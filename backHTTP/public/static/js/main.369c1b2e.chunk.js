(this["webpackJsonpcsm-retailmi"]=this["webpackJsonpcsm-retailmi"]||[]).push([[0],{146:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},158:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},169:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},299:function(e,t,a){},300:function(e,t,a){},301:function(e,t,a){},302:function(e,t,a){},303:function(e,t,a){},304:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){"use strict";a.r(t);var s=a(2),n=a.n(s),i=a(28),o=a.n(i),r=(a(146),a(5)),c=a(7),l=a(8),d=a(4),h=a(10),u=a(9),m=a(140),p=a(18),b=a(17),j=(a(151),"http://localhost:83"),g={UPLOAD_FILE:j+"/upload-file",GET_FILE:j+"/files",REGISTER_USER:j+"/register-user",MODIFY_USER:j+"/modify-user",DELETE_USER:j+"/delete-user",SEARCH_USERS:j+"/search-users",REGISTER_COMPANY:j+"/register-company",MODIFY_COMPANY:j+"/modify-company",DELETE_COMPANY:j+"/delete-company",SEARCH_COMPANY:j+"/search-company",LIST_VCC_VALUES:j+"/respuesta",LIST_CAMPANIA_VALUES:j+"/campania",LIST_SUPERVISOR_VALUES:j+"/supervisor",LIST_TIPOS_USUARIO_VALUES:j+"/tipos-usuario",LIST_ESTADOS_VALUES:j+"/estados",LIST_AGENTES:j+"/list-agentes",LIST_ALL_USERS:j+"/list-all-users",LIST_ALL_EXPERIENCES:j+"/list-all-experiences",LIST_SUPERVISORES:j+"/list-supervisores",GET_HISTORIC:j+"/get-historical-times",VALIDAR_CP:j+"/validar-cp",REGISTER_EXPERIENCIA:j+"/register-experience",MODIFY_EXPERIENCIA:j+"/modify-experience"},v=a(323),f=(a(152),a(1)),O=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={usuario:"",password:"",sending:!1,colorAlert:"success",showAlert:!1,alertMessage:""},s.handleChangeUser=s.handleChangeUser.bind(Object(d.a)(s)),s.handleChangePassword=s.handleChangePassword.bind(Object(d.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(d.a)(s)),s.setSocketListeners=s.setSocketListeners.bind(Object(d.a)(s)),s.handleEnter=s.handleEnter.bind(Object(d.a)(s)),s.input=void 0,s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setSocketListeners()}},{key:"setSocketListeners",value:function(){var e=this,t=this.props.socket;t.on("error-login",(function(t){e.setState({alertMessage:"Ocurri\xf3 un error al iniciar sesi\xf3n",colorAlert:"danger",showAlert:!0})})),t.on("incorrect-login",(function(t){e.setState({alertMessage:"El usuario o la contrase\xf1a son incorrectos",colorAlert:"danger",showAlert:!0})})),t.on("logged",(function(t){e.props.setUserInfo(t),e.props.setIsLogged(!0)}))}},{key:"handleChangePassword",value:function(e){var t=e.target;this.setState({password:t.value}),t.value.includes("--")?(t.setCustomValidity("La contrase\xf1a no puede contener la cadena especial '--'"),t.reportValidity(),t.valid=!1):t.valid=!0}},{key:"handleChangeUser",value:function(e){var t=e.target;this.setState({usuario:t.value}),t.value.includes("--")?(t.setCustomValidity("El usuario debe ser un correo v\xe1lido, no puede contener la cadena especial '--'"),t.reportValidity(),t.valid=!1):t.valid=!0}},{key:"handleEnter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Event;13!==e.wich&&13!==e.keyCode||this.handleSubmit()}},{key:"handleSubmit",value:function(){var e=this.props.socket;if(""!=this.state.password&&""!=this.state.usuario){var t=document.getElementById("inputUsuario"),a=document.getElementById("inputContrase\xf1a");if(!t.valid||!a.valid)return console.log("not valid"),t.reportValidity(),void a.reportValidity();this.setState({sending:!0}),e.emit("login",{userName:this.state.usuario,password:this.state.password})}else alert("debes rellenar todos los campos")}},{key:"render",value:function(){var e,t=this;return console.log(this.input),this.props.isLogged?Object(f.jsx)(b.a,{to:"/"}):Object(f.jsxs)("div",{className:"hvh-100 d-flex justify-content-start flex-column",children:[Object(f.jsx)("div",{className:"alert-container",children:Object(f.jsx)("div",{className:"alert-size",children:this.state.showAlert?Object(f.jsx)(v.a,{variant:this.state.colorAlert,onClose:function(){return t.setState({showAlert:!1})},dismissible:!0,children:Object(f.jsx)(v.a.Heading,{as:"h5",className:"text-center",children:null===(e=this.state.alertMessage)||void 0===e?void 0:e.toUpperCase()})}):""})}),Object(f.jsx)("h1",{className:"text-center display-6 m-5",children:"Iniciar Sesi\xf3n"}),Object(f.jsx)("div",{className:"mt-5 d-flex justify-content-center align-itens-center h-100",children:Object(f.jsxs)("form",{className:"login-form",children:[Object(f.jsxs)("div",{className:"form-floating mb-4",children:[Object(f.jsx)("input",{type:"email",className:"form-control",id:"inputUsuario",onKeyDown:this.handleEnter,placeholder:"introduce tu nombre de usuario",onChange:this.handleChangeUser}),Object(f.jsx)("label",{htmlFor:"inputUsuario",children:"Usuario"})]}),Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("input",{type:"password",className:"form-control",id:"inputContrase\xf1a",placeholder:"introduce tu nombre de usuario",onKeyDown:this.handleEnter,onChange:this.handleChangePassword}),Object(f.jsx)("label",{htmlFor:"inputContrase\xf1a",children:"Contrase\xf1a"})]}),Object(f.jsx)("div",{className:"form-group d-flex justify-content-center mt-5",children:Object(f.jsx)("a",{className:"btn btn-primary form-control ".concat(this.state.sending?"disabled":""," "),role:"button",onClick:this.handleSubmit,children:"Iniciar Sesi\xf3n"})})]})})]})}}]),a}(s.Component),x=(a(158),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),s=t.call(this,e),console.log("is creating logout"),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.setIsLogged(!1),this.props.setUserInfo({}),window.location="/#",this.props.socket.emit("cambio-estado",{idUsuario:this.props.id,idEstado:7,fechaInicio:new Date,nombre:"Desconectado"}),this.props.socket.emit("logout",this.props.id)}},{key:"render",value:function(){return Object(f.jsx)("h1",{className:"text-center",children:"Cerrando sesi\xf3n..."})}}]),a}(s.Component)),C=a(15),N=a.n(C),y=a(20),S=(a(160),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s,n,i,o,r,l,h,u,m,p;return Object(c.a)(this,a),(p=t.call(this,e)).state={usuario:(null===(s=p.props.usuario)||void 0===s?void 0:s.nombreUsuario)||"",nombre:(null===(n=p.props.usuario)||void 0===n?void 0:n.nombreCompleto)||"",contrasenia:(null===(i=p.props.usuario)||void 0===i?void 0:i.password)||"",repContrasenia:(null===(o=p.props.usuario)||void 0===o?void 0:o.password)||"",vccId:[],campania:[],supervisor:[],allAgentes:[],allAdministradores:[],tiposUsuario:[],vcc:(null===(r=p.props.usuario)||void 0===r?void 0:r.idVcc)||1,ca:(null===(l=p.props.usuario)||void 0===l?void 0:l.idCampania)||1,supervisores:(null===(h=p.props.usuario)||void 0===h?void 0:h.supervisores)||[],agentes:(null===(u=p.props.usuario)||void 0===u?void 0:u.agentes)||[],tipoUsuario:(null===(m=p.props.usuario)||void 0===m?void 0:m.tipoUsuario)||1,sending:!1,colorAlert:"success",showAlert:!1,alertMessage:""},p.handleChangeUsuario=p.handleChangeUsuario.bind(Object(d.a)(p)),p.handleChangeNombre=p.handleChangeNombre.bind(Object(d.a)(p)),p.handleChangeContrasenia=p.handleChangeContrasenia.bind(Object(d.a)(p)),p.handleChangeRepContrasenia=p.handleChangeRepContrasenia.bind(Object(d.a)(p)),p.handleChangeVccId=p.handleChangeVccId.bind(Object(d.a)(p)),p.handleChangeCampania=p.handleChangeCampania.bind(Object(d.a)(p)),p.handleChangeSupervisores=p.handleChangeSupervisores.bind(Object(d.a)(p)),p.handleChangeAgentes=p.handleChangeAgentes.bind(Object(d.a)(p)),p.handleSubmit=p.handleSubmit.bind(Object(d.a)(p)),p.handleChangeTiposUsuario=p.handleChangeTiposUsuario.bind(Object(d.a)(p)),p.getData=p.getData.bind(Object(d.a)(p)),p.resetAll=p.resetAll.bind(Object(d.a)(p)),p.handleCloseAlert=p.handleCloseAlert.bind(Object(d.a)(p)),p}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"resetAll",value:function(){var e=this;this.props.resetAll&&setTimeout((function(){e.props.resetAll()}),3e3),this.setState({usuario:"",nombre:"",contrasenia:"",repContrasenia:"",vcc:1,ca:1,supervisores:[],agentes:[],tipoUsuario:1,sending:!1})}},{key:"getData",value:function(){var e=Object(y.a)(N.a.mark((function e(){var t,a,s,n,i,o,c,l,d,h,u,m,p,b=this;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"post",mode:"cors",headers:{"Content-Type":"application/json"}},e.next=3,fetch(g.LIST_VCC_VALUES,a);case 3:return s=e.sent,e.next=6,s.json();case 6:return n=e.sent,console.log("datos recibidos: ",n),this.setState({vccId:n,vcc:n[0]}),e.next=11,fetch(g.LIST_CAMPANIA_VALUES,a);case 11:return i=e.sent,e.next=14,i.json();case 14:return o=e.sent,this.setState({campania:o}),e.next=18,fetch(g.LIST_TIPOS_USUARIO_VALUES,a);case 18:return c=e.sent,e.next=21,c.json();case 21:return l=e.sent,this.setState({tiposUsuario:l}),e.next=25,fetch(g.LIST_ALL_USERS,Object(r.a)(Object(r.a)({},a),{},{body:JSON.stringify({idVcc:this.props.idVcc})}));case 25:return d=e.sent,e.next=28,d.json();case 28:h=e.sent,(null===(t=this.props.user)||void 0===t?void 0:t.id)&&(h=h.filter((function(e){var t;return e.id!=(null===(t=b.props.user)||void 0===t?void 0:t.id)}))),u=h.filter((function(e){return 1==e.tipoUsuario})),m=h.filter((function(e){return 2==e.tipoUsuario})),p=h.filter((function(e){return 3==e.tipoUsuario})),this.setState({supervisor:m,allAgentes:u,allAdministradores:p});case 34:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChangeUsuario",value:function(e){var t=e.target;this.setState({usuario:t.value}),t.value.includes("--")?(t.setCustomValidity("El usuario debe ser un correo v\xe1lido, no puede contener la cadena especial '--'"),t.reportValidity(),t.valid=!1):t.valid=!0}},{key:"handleChangeNombre",value:function(e){this.setState({nombre:e.target.value})}},{key:"handleChangeContrasenia",value:function(e){var t=e.target;this.setState({password:t.value}),t.value.includes("--")?(t.setCustomValidity("La contrase\xf1a no puede contener la cadena especial '--'"),t.reportValidity(),t.valid=!1):t.valid=!0}},{key:"handleChangeRepContrasenia",value:function(e){this.setState({repContrasenia:e.target.value})}},{key:"handleChangeVccId",value:function(e){var t=this.state.vccId;this.setState({vcc:t.find((function(t){return t.vccId==e.target.value}))})}},{key:"handleChangeCampania",value:function(e){this.setState({ca:e.target.value})}},{key:"handleChangeSupervisores",value:function(e){var t=this.state.supervisores;if(e.target.checked)t.push(e.target.value);else{var a=t.findIndex((function(t){return t==e.target.value}));t.splice(a,1)}this.setState({supervisores:t})}},{key:"handleChangeAgentes",value:function(e){var t=this.state.agentes;if(e.target.checked)t.push(e.target.value);else{var a=t.findIndex((function(t){return t==e.target.value}));t.splice(a,1)}this.setState({agentes:t})}},{key:"handleChangeTiposUsuario",value:function(e){this.setState({tipoUsuario:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(y.a)(N.a.mark((function e(t){var a,s,n,i,o,r,c,l;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.getElementById("formUsuario"),i=document.getElementById("formContrasenia"),n.valid&&i.valid){e.next=7;break}return console.log("not valid"),n.reportValidity(),i.reportValidity(),e.abrupt("return");case 7:if(0!=(null===(a=this.props.usuario)||void 0===a?void 0:a.tipoUsuario)){e.next=10;break}return this.setState({alertMessage:"Elije que usuario deseas modificar",colorAlert:"warning",showAlert:!0}),e.abrupt("return");case 10:if(""!=this.state.tipoUsuario&&""!=this.state.usuario&&""!=this.state.contrasenia){e.next=13;break}return this.setState({alertMessage:"rellena todos los campos",colorAlert:"danger",showAlert:!0}),e.abrupt("return");case 13:if(this.state.contrasenia===this.state.repContrasenia){e.next=16;break}return this.setState({alertMessage:"las contrase\xf1as no coinciden",colorAlert:"danger",showAlert:!0}),e.abrupt("return");case 16:return this.setState({sending:!0}),o={method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({usuario:this.state.usuario,usuario_strNombreCompleto:this.state.nombre,password:this.state.contrasenia,usuario_intVccId:this.state.vcc.vccId,"usuario_intCampa\xf1aId":this.state.ca,usuario_intSupervisoresId:this.state.supervisores,tipoUsuario:this.state.tipoUsuario,agentes:this.state.agentes,idSupervisor:this.props.id,idUsuario:(null===(s=this.props.usuario)||void 0===s?void 0:s.id)||null})},r="Registrar"==this.props.title?g.REGISTER_USER:g.MODIFY_USER,e.next=21,fetch(r,o);case 21:return c=e.sent,e.next=24,c.json();case 24:l=e.sent,console.log(l,"datos traidos"),e.t0=l.result,e.next="correcto"===e.t0?29:"error"===e.t0?32:"error-several-clicks"===e.t0?34:"user-exist"===e.t0?36:38;break;case 29:return this.setState({alertMessage:"se ".concat("Registrar"==this.props.title?"registr\xf3":"modific\xf3"," el usuario correctamente"),colorAlert:"success"}),this.resetAll(),e.abrupt("break",39);case 32:return this.setState({alertMessage:"Ocurrio un error",colorAlert:"danger"}),e.abrupt("break",39);case 34:return this.setState({alertMessage:"Se intent\xf3 demaciadas veces",colorAlert:"danger"}),e.abrupt("break",39);case 36:return this.setState({alertMessage:"Ya existe un usuario registrado con ese nombre de usuario, por favor elige otro",colorAlert:"info"}),e.abrupt("break",39);case 38:return e.abrupt("break",39);case 39:this.setState({sending:!1,showAlert:!0});case 40:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCloseAlert",value:function(){this.setState({showAlert:!1})}},{key:"render",value:function(){var e=this;if(!this.props.isLogged)return Object(f.jsx)(b.a,{to:"/"});if(this.props.tipoUsuario>2){var t,a,s,n,i,o,r=1==this.state.tipoUsuario?this.state.supervisor.concat(this.state.allAdministradores):this.state.allAdministradores;return Object(f.jsxs)("div",{className:"hvh-100 d-flex justify-center-start flex-column",children:[Object(f.jsx)("div",{className:"alert-container",children:Object(f.jsx)("div",{className:"alert-size",children:this.state.showAlert?Object(f.jsx)(v.a,{variant:this.state.colorAlert,onClose:function(){return e.setState({showAlert:!1})},dismissible:!0,children:Object(f.jsx)(v.a.Heading,{as:"h5",className:"text-center",children:null===(t=this.state.alertMessage)||void 0===t?void 0:t.toUpperCase()})}):""})}),Object(f.jsxs)("h1",{className:"text-center display-6 ".concat("Registrar"==this.props.title?"m-5":""),children:[" ",this.props.title," "]}),Object(f.jsx)("div",{className:"d-flex justify-content-center align-itens-center h-100",children:Object(f.jsxs)("form",{className:"register-form",children:[Object(f.jsxs)("div",{className:"row mb-4",children:[Object(f.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xl-6",children:Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("input",{type:"text",className:"form-control",id:"formUsuario",placeholder:"Escribe el usuario",onChange:this.handleChangeUsuario,value:this.state.usuario}),Object(f.jsx)("label",{htmlFor:"Usuario",children:" Usuario "})]}),Object(f.jsx)("div",{className:"input-group-append",children:Object(f.jsxs)("span",{className:"input-group-text",id:"basic-addon1",children:["@",this.state.vcc.vccAcronimo]})})]})}),Object(f.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xl-6",children:Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("input",{type:"text",className:"form-control",id:"formNombre",placeholder:"Escribe el nombre",onChange:this.handleChangeNombre,value:this.state.nombre}),Object(f.jsx)("label",{htmlFor:"Nombre",children:" Nombre "})]})})]}),Object(f.jsxs)("div",{className:"row mb-4",children:[Object(f.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xl-6",children:Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("input",{type:"password",className:"form-control",id:"formContrasenia",placeholder:"Introduce tu contrase\xf1a",onChange:this.handleChangeContrasenia,value:this.state.contrasenia}),Object(f.jsx)("label",{htmlFor:"Contrasenia",children:"Contrase\xf1a"})]})}),Object(f.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xl-6",children:Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("input",{type:"password",className:"form-control",id:"formRepContrasenia",placeholder:"Introduce tu contrase\xf1a",onChange:this.handleChangeRepContrasenia,value:this.state.repContrasenia}),Object(f.jsx)("label",{htmlFor:"Contrasenia",children:"Repite tu Contrase\xf1a"})]})})]}),Object(f.jsxs)("div",{className:"row mb-4",children:[Object(f.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xl-6",children:Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("select",{className:"select-class form-select form-select-sm mb-3 mt-3",id:"select-tipoUsuario",onChange:this.handleChangeTiposUsuario,defaultValue:this.state.tipoUsuario,children:null===(a=this.state.tiposUsuario)||void 0===a?void 0:a.map((function(e,t){return Object(f.jsx)("option",{value:e.id,children:e.nombre},t)}))}),Object(f.jsx)("label",{htmlFor:"select-tipoUsuario",children:"Tipo Usuario"})]})}),Object(f.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xl-6",children:Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("select",{className:"select-class form-select form-select-sm mb-3 mt-3",id:"select-vcc",onChange:this.handleChangeVccId,defaultValue:this.state.vcc,children:null===(s=this.state.vccId)||void 0===s?void 0:s.map((function(e,t){return Object(f.jsx)("option",{value:e.vccId,children:e.vccNombre},t)}))}),Object(f.jsx)("label",{htmlFor:"select-vcc",children:"Empresa"})]})}),Object(f.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xl-6",children:Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("select",{className:"select-class form-select form-select-sm mb-3 mt-3",id:"select-campania",onChange:this.handleChangeCampania,defaultValue:this.state.ca,children:null===(n=this.state.campania)||void 0===n?void 0:n.map((function(e,t){return Object(f.jsx)("option",{value:e.campania_intId,children:e.campania_strNombre},t)}))}),Object(f.jsx)("label",{htmlFor:"select-campania",children:"Campa\xf1a"})]})}),this.state.tipoUsuario>0?Object(f.jsxs)("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xl-6",children:[Object(f.jsx)("label",{className:"h5",children:1==this.state.tipoUsuario?"Supervisores":"Administradores"}),null===r||void 0===r?void 0:r.map((function(t,a){var s,n=null===(s=e.state.supervisores)||void 0===s?void 0:s.some((function(e){return e==t.id}));return Object(f.jsxs)("div",{className:"form-check",children:[Object(f.jsx)("input",{checked:n,className:"form-check-input",type:"checkbox",value:t.id,id:"supervisor-"+a,onChange:e.handleChangeSupervisores}),Object(f.jsx)("label",{className:"form-check-label",htmlFor:"supervisor-"+a,children:t.nombreUsuario})]},a)}))]}):"",this.state.tipoUsuario>1?Object(f.jsxs)("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xl-6",children:[Object(f.jsx)("label",{className:"h5",children:"Agentes"}),null===(i=this.state.allAgentes)||void 0===i?void 0:i.map((function(t,a){var s,n=null===(s=e.state.agentes)||void 0===s?void 0:s.some((function(e){return e.id==t.id}));return Object(f.jsxs)("div",{className:"form-check",children:[Object(f.jsx)("input",{checked:n,className:"form-check-input",type:"checkbox",value:t.id,id:"agente-"+a,onChange:e.handleChangeAgentes}),Object(f.jsx)("label",{className:"form-check-label",htmlFor:"agente-"+a,children:t.nombreUsuario})]},a)}))]}):"",this.state.tipoUsuario>2?Object(f.jsxs)("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xl-6",children:[Object(f.jsx)("label",{className:"h5",children:"Supervisores"}),null===(o=this.state.supervisor)||void 0===o?void 0:o.map((function(t,a){var s,n=null===(s=e.state.agentes)||void 0===s?void 0:s.some((function(e){return e.id==t.id}));return Object(f.jsxs)("div",{className:"form-check",children:[Object(f.jsx)("input",{checked:n,className:"form-check-input",type:"checkbox",value:t.id,id:"supervisor-"+a,onChange:e.handleChangeAgentes}),Object(f.jsx)("label",{className:"form-check-label",htmlFor:"supervisor-"+a,children:t.nombreUsuario})]},a)}))]}):""]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-12 d-flex justify-content-center aling-items-center",children:Object(f.jsx)("div",{className:"form-group d-flex justify-content-center mt-5",children:Object(f.jsx)("button",{disabled:this.state.sending,className:"btn btn-primary form-control ",onClick:this.handleSubmit,children:this.props.title})})})})]})})]})}return Object(f.jsxs)("div",{className:"text-center h-100",children:[Object(f.jsx)("h1",{className:"mt-5",children:"\xa1No tienes los permisos para visualizar esta ventana!"}),Object(f.jsx)("p",{children:"Debes ser Administrador o un rango m\xe1s arriba para poder entrar aqu\xed"})]})}}]),a}(s.Component)),k=a(16),I=(a(161),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s,n,i,o,r,l,h,u,m,p,b;return Object(c.a)(this,a),(b=t.call(this,e)).state={nombre:(null===(s=b.props.company)||void 0===s?void 0:s.nombre)||"",acronimo:(null===(n=b.props.company)||void 0===n?void 0:n.acronimo)||"",kams:(null===(i=b.props.company)||void 0===i?void 0:i.kams)||[],kamActual:"",rfc:(null===(o=b.props.company)||void 0===o?void 0:o.rfc)||"",direccion:(null===(r=b.props.company)||void 0===r?void 0:r.direccion)||"",telefonos:(null===(l=b.props.company)||void 0===l?void 0:l.telefonos)||[],telefonoActual:"",emails:(null===(h=b.props.company)||void 0===h?void 0:h.emails)||[],emailActual:"",polizasAgentes:(null===(u=b.props.company)||void 0===u?void 0:u.polizasAgentes)||0,polizasSupervisores:(null===(m=b.props.company)||void 0===m?void 0:m.polizasSupervisores)||0,polizasAdministradores:(null===(p=b.props.company)||void 0===p?void 0:p.polizasAdministradores)||0,sending:!1,colorAlert:"success",showAlert:!1,alertMessage:"",usuarios:[]},b.handleChangeNombre=b.handleChangeNombre.bind(Object(d.a)(b)),b.handleChangeAcronimo=b.handleChangeAcronimo.bind(Object(d.a)(b)),b.handleAddKams=b.handleAddKams.bind(Object(d.a)(b)),b.handleRemoveKams=b.handleRemoveKams.bind(Object(d.a)(b)),b.handleChangeKamActual=b.handleChangeKamActual.bind(Object(d.a)(b)),b.handleChangeRfc=b.handleChangeRfc.bind(Object(d.a)(b)),b.handleChangePolizasAgentes=b.handleChangePolizasAgentes.bind(Object(d.a)(b)),b.handleChangePolizasSupervisores=b.handleChangePolizasSupervisores.bind(Object(d.a)(b)),b.handleChangePolizasAdministradores=b.handleChangePolizasAdministradores.bind(Object(d.a)(b)),b.handleChangeDireccion=b.handleChangeDireccion.bind(Object(d.a)(b)),b.handleAddTelefonos=b.handleAddTelefonos.bind(Object(d.a)(b)),b.handleRemoveTelefonos=b.handleRemoveTelefonos.bind(Object(d.a)(b)),b.handleChangeTelefonoActual=b.handleChangeTelefonoActual.bind(Object(d.a)(b)),b.handleAddEmails=b.handleAddEmails.bind(Object(d.a)(b)),b.handleRemoveEmails=b.handleRemoveEmails.bind(Object(d.a)(b)),b.handleSubmit=b.handleSubmit.bind(Object(d.a)(b)),b.getData=b.getData.bind(Object(d.a)(b)),b.resetAll=b.resetAll.bind(Object(d.a)(b)),b.handleChangeEmailActual=b.handleChangeEmailActual.bind(Object(d.a)(b)),b.handleCloseAlert=b.handleCloseAlert.bind(Object(d.a)(b)),b}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"resetAll",value:function(){var e,t,a,s,n,i,o,r,c,l;this.setState({nombre:(null===(e=this.props.company)||void 0===e?void 0:e.nombre)||"",acronimo:(null===(t=this.props.company)||void 0===t?void 0:t.acronimo)||"",kams:(null===(a=this.props.company)||void 0===a?void 0:a.kams)||[],kamActual:"",rfc:(null===(s=this.props.company)||void 0===s?void 0:s.rfc)||"",direccion:(null===(n=this.props.company)||void 0===n?void 0:n.direccion)||"",telefonos:(null===(i=this.props.company)||void 0===i?void 0:i.telefonos)||[],telefonoActual:"",emails:(null===(o=this.props.company)||void 0===o?void 0:o.emails)||[],emailActual:"",polizasAgentes:(null===(r=this.props.company)||void 0===r?void 0:r.polizasAgentes)||0,polizasSupervisores:(null===(c=this.props.company)||void 0===c?void 0:c.polizasSupervisores)||0,polizasAdministradores:(null===(l=this.props.company)||void 0===l?void 0:l.polizasAdministradores)||0})}},{key:"getData",value:function(){var e=Object(y.a)(N.a.mark((function e(){var t,a,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({idVcc:this.props.idVcc})},e.next=3,fetch(g.LIST_ALL_USERS,t);case 3:return a=e.sent,e.next=6,a.json();case 6:s=e.sent,this.setState({usuarios:s,kamActual:s[0]});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChangeNombre",value:function(e){var t=e.target.value;this.setState({nombre:t})}},{key:"handleChangeAcronimo",value:function(e){var t=e.target,a=t.value;this.setState({acronimo:a});/^[a-z]+$/gm.test(a)?t.valid=!0:(t.valid=!1,t.setCustomValidity("el acr\xf3nimo solo debe contener min\xfasculas"),t.reportValidity())}},{key:"handleAddKams",value:function(e){var t=this.state,a=t.kams,s=t.kamActual;a.push(s),this.setState({kams:a})}},{key:"handleRemoveKams",value:function(e){var t=this.state.kams;this.setState({kams:t.filter((function(t){return t.id!=e.id}))})}},{key:"handleChangeKamActual",value:function(e){var t=e.target.value,a=this.state.usuarios;console.log("kam selected: ",t),this.setState({kamActual:a.find((function(e){return e.id==t}))})}},{key:"handleChangeRfc",value:function(e){var t=e.target,a=t.value;this.setState({rfc:a});a.length<13||(/[a-zA-Z]{4}[0-9]{6}[a-zA-Z0-9]{3}$/gm.test(a)?(t.setCustomValidity(""),t.valid=!0):(t.setCustomValidity("Ingrese un rfc v\xe1lido"),t.reportValidity(),t.valid=!1))}},{key:"handleChangeDireccion",value:function(e){var t=e.target.value;this.setState({direccion:t})}},{key:"handleChangePolizasAgentes",value:function(e){var t=e.target.value;this.setState({polizasAgentes:t})}},{key:"handleChangePolizasSupervisores",value:function(e){var t=e.target.value;this.setState({polizasSupervisores:t})}},{key:"handleChangePolizasAdministradores",value:function(e){var t=e.target.value;this.setState({polizasAdministradores:t})}},{key:"handleAddTelefonos",value:function(e){var t=this.state,a=t.telefonos,s=t.telefonoActual,n=document.querySelector("#formTelefono");if(n.valid){if(a.some((function(e){return e.includes(s)})))return n.setCustomValidity("Este tel\xe9fono ya ha sido agregado"),n.reportValidity(),void(n.valid=!1);if(""==s)return n.setCustomValidity("Debes rellenar el campo"),n.reportValidity(),void(n.valid=!1);n.valid=!0,a.push(s),this.setState({telefonos:a,telefonoActual:""})}else n.reportValidity()}},{key:"handleRemoveTelefonos",value:function(e){var t=this.state.telefonos;this.setState({telefonos:t.filter((function(t){return t!=e}))})}},{key:"handleChangeTelefonoActual",value:function(e){var t=e.target;t.setCustomValidity(""),t.reportValidity();var a=t.value.trim();this.setState({telefonoActual:t.value}),!/\+\([0-9]{2}\)[0-9]{10}$/.test(a)&&!/[0-9]{10}$/.test(a)&&a.length>9?(t.valid=!1,t.setCustomValidity("El telefono debe ser un formato v\xe1lido"),t.reportValidity()):t.valid=!0}},{key:"handleAddEmails",value:function(e){var t=this.state,a=t.emails,s=t.emailActual,n=document.querySelector("#formEmail");if(n.valid){if(a.some((function(e){return e==s})))return n.setCustomValidity("Este email ya ha sido agregado"),n.reportValidity(),void(n.valid=!1);n.valid=!0,a.push(s),this.setState({emails:a,emailActual:""})}else n.reportValidity()}},{key:"handleRemoveEmails",value:function(e){var t=this.state.emails;this.setState({emails:t.filter((function(t){return t!=e}))})}},{key:"handleChangeEmailActual",value:function(e){var t=e.target,a=t.value;/[\s\S]*@[\s\S]*\.[\s\S]*/.test(a)?t.valid=!0:(t.valid=!1,t.setCustomValidity("Debe ser un email v\xe1lido"),t.reportValidity()),this.setState({emailActual:a})}},{key:"handleSubmit",value:function(){var e=Object(y.a)(N.a.mark((function e(t){var a,s,n,i,o,r,c,l,d,h,u,m,p,b,j,v,f,O,x,C,y,S,k;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=(null===(a=this.props.usuario)||void 0===a?void 0:a.tipoUsuario)){e.next=3;break}return this.setState({alertMessage:"Elije que usuario deseas modificar",colorAlert:"warning",showAlert:!0}),e.abrupt("return");case 3:if(s=this.state,n=s.nombre,i=s.acronimo,o=s.kams,r=s.kamActual,c=s.rfc,l=s.direccion,d=s.telefonos,h=s.telefonoActual,u=s.emails,m=s.emailActual,p=s.polizasAgentes,b=s.polizasSupervisores,j=s.polizasAdministradores,""!=n&&""!=i&&""!=l&&(0!=p||0!=b||0!=j)){e.next=7;break}return this.setState({alertMessage:"rellena todos los campos",colorAlert:"danger",showAlert:!0}),e.abrupt("return");case 7:if(v=document.querySelector("#formAcronimo"),f=document.querySelector("#formRfc"),O=document.querySelector("#formTelefono"),x=document.querySelector("#formEmail"),v.valid&&f.valid&&O.valid&&x.valid){e.next=17;break}return v.reportValidity(),f.reportValidity(),O.reportValidity(),x.reportValidity(),e.abrupt("return");case 17:if(0!=u.length){e.next=25;break}if(""!=m){e.next=24;break}return x.setCustomValidity("Debes ingresar al menos 1 email"),x.reportValidity(),e.abrupt("return");case 24:u.push(m);case 25:if(0==o.length&&o.push(r),0!=d.length){e.next=34;break}if(""!=h){e.next=33;break}return O.setCustomValidity("Debes ingresar al menos 1 tel\xe9fono"),O.reportValidity(),e.abrupt("return");case 33:d.push(h);case 34:return this.setState({sending:!0}),C={method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombre:n,acronimo:i,kams:o.map((function(e){return e.id})),rfc:c,direccion:l,telefonos:d,emails:u,idAdmin:this.props.id,polizasAgentes:p,polizasSupervisores:b,polizasAdministradores:j})},y="Registrar"==this.props.title?g.REGISTER_COMPANY:g.MODIFY_COMPANY,e.next=39,fetch(y,C);case 39:return S=e.sent,e.next=42,S.json();case 42:k=e.sent,console.log(k,"datos traidos"),e.t0=k.result,e.next="correcto"===e.t0?47:"error"===e.t0?50:"error-several-clicks"===e.t0?52:"user-exist"===e.t0?54:57;break;case 47:return this.setState({alertMessage:"se ".concat("Registrar"==this.props.title?"registr\xf3":"modific\xf3"," la compa\xf1ia correctamente"),colorAlert:"success"}),this.resetAll(),e.abrupt("break",58);case 50:return this.setState({alertMessage:"Ocurrio un error",colorAlert:"danger"}),e.abrupt("break",58);case 52:return this.setState({alertMessage:"Se intent\xf3 demaciadas veces",colorAlert:"danger"}),e.abrupt("break",58);case 54:return this.setState({alertMessage:"Ya existe un usuario registrado con ese nombre de usuario, por favor elige otro",colorAlert:"info"}),this.resetAll(),e.abrupt("break",58);case 57:return e.abrupt("break",58);case 58:this.setState({sending:!1,showAlert:!0});case 59:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCloseAlert",value:function(){this.setState({showAlert:!1})}},{key:"render",value:function(){var e,t,a=this;return this.props.isLogged?this.props.tipoUsuario>2?Object(f.jsxs)("div",{className:"hvh-100 d-flex justify-center-start flex-column",children:[Object(f.jsx)("div",{className:"alert-container",children:Object(f.jsx)("div",{className:"alert-size",children:this.state.showAlert?Object(f.jsx)(v.a,{variant:this.state.colorAlert,onClose:function(){return a.setState({showAlert:!1})},dismissible:!0,children:Object(f.jsx)(v.a.Heading,{as:"h5",className:"text-center",children:null===(e=this.state.alertMessage)||void 0===e?void 0:e.toUpperCase()})}):""})}),Object(f.jsxs)("h1",{className:"text-center display-6 ".concat("Registrar"==this.props.title?"m-5":""),children:[" ",this.props.title," "]}),Object(f.jsx)("div",{className:"d-flex justify-content-center align-itens-center h-100",children:Object(f.jsxs)("form",{className:"register-form",children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xl-6",children:[Object(f.jsx)("div",{className:"row mb-4",children:Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("input",{type:"text",className:"form-control",id:"formNombre",placeholder:"Escribe el nombre de la compa\xf1ia",onChange:this.handleChangeNombre,value:this.state.nombre}),Object(f.jsx)("label",{htmlFor:"formNombre",children:" Nombre de la compa\xf1ia "})]})}),Object(f.jsx)("div",{className:"row mb-4",children:Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("input",{type:"text",className:"form-control",id:"formRfc",placeholder:"Escribe el acr\xf3nimo",onChange:this.handleChangeRfc,value:this.state.rfc}),Object(f.jsx)("label",{htmlFor:"formRfc",children:" RFC "})]})}),Object(f.jsxs)("div",{className:"row mb-4",children:[this.state.telefonos.map((function(e,t){return Object(f.jsxs)("div",{className:"input-group mb-2",children:[Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("input",{type:"text",className:"form-control",id:"formTelefono-"+t,placeholder:"Escribe el nombre de la compa\xf1ia",disabled:!0,value:e}),Object(f.jsxs)("label",{htmlFor:"formTelefono-"+t,children:[" Telefono ",t+1," "]})]}),Object(f.jsx)("div",{className:"input-group-append",children:Object(f.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return a.handleRemoveTelefonos(e)},children:Object(f.jsx)(k.h,{size:30,style:{marginTop:-5}})})})]},t)})),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("input",{type:"text",className:"form-control",id:"formTelefono",placeholder:"Escribe el nombre de la compa\xf1ia",onChange:this.handleChangeTelefonoActual,value:this.state.telefonoActual}),Object(f.jsxs)("label",{htmlFor:"formTelefono",children:[" Telefono ",isNaN(this.state.telefonos.length)?1:this.state.telefonos.length+1," "]})]}),Object(f.jsx)("div",{className:"input-group-append",children:Object(f.jsx)("button",{className:"btn btn-outline-secondary",onClick:this.handleAddTelefonos,children:Object(f.jsx)(k.i,{size:30,style:{marginTop:-5}})})})]})]}),Object(f.jsxs)("div",{className:"row mb-4",children:[this.state.kams.map((function(e,t){return Object(f.jsxs)("div",{className:"input-group mb-2",children:[Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("input",{type:"email",className:"form-control",id:"formKam-"+t,placeholder:"Escribe el nombre de la compa\xf1ia",disabled:!0,value:e.nombreCompleto}),Object(f.jsxs)("label",{htmlFor:"formKam-"+t,children:[" Key Account Manager ",t+1," "]})]}),Object(f.jsx)("div",{className:"input-group-append",children:Object(f.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return a.handleRemoveKams(e)},children:Object(f.jsx)(k.h,{size:30,style:{marginTop:-5}})})})]},t)})),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("select",{type:"mail",className:"form-control",id:"formKam",placeholder:"Escribe el nombre de la compa\xf1ia",onChange:this.handleChangeKamActual,children:null===(t=this.state.usuarios)||void 0===t?void 0:t.map((function(e,t){return Object(f.jsx)("option",{value:e.id,children:e.nombreCompleto},t)}))}),Object(f.jsxs)("label",{htmlFor:"formKam",children:[" Key Account Manager ",isNaN(this.state.kams.length)?1:this.state.kams.length+1," "]})]}),Object(f.jsx)("div",{className:"input-group-append",children:Object(f.jsx)("button",{className:"btn btn-outline-secondary",onClick:this.handleAddKams,children:Object(f.jsx)(k.i,{size:30,style:{marginTop:-5}})})})]})]})]}),Object(f.jsxs)("div",{className:"col-6",children:[Object(f.jsx)("div",{className:"row mb-4",children:Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("div",{className:"input-group-prepend",children:Object(f.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:"@"})}),Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("input",{type:"text",className:"form-control",id:"formAcronimo",placeholder:"Escribe el acr\xf3nimo",onChange:this.handleChangeAcronimo,value:this.state.acronimo}),Object(f.jsx)("label",{htmlFor:"formAcronimo",children:" Acr\xf3nimo "})]})]})}),Object(f.jsx)("div",{className:"row mb-4",children:Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("textarea",{className:"form-control",id:"formDireccion",placeholder:"Escribe la direcci\xf3n",onChange:this.handleChangeDireccion,value:this.state.direccion}),Object(f.jsx)("label",{htmlFor:"formDireccion",children:" Direcci\xf3n "})]})}),Object(f.jsxs)("div",{className:"row mb-4",children:[this.state.emails.map((function(e,t){return Object(f.jsxs)("div",{className:"input-group mb-2",children:[Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("input",{type:"email",className:"form-control",id:"formEmail-"+t,placeholder:"Escribe el nombre de la compa\xf1ia",disabled:!0,value:e}),Object(f.jsxs)("label",{htmlFor:"formEmail-"+t,children:[" Email ",t+1," "]})]}),Object(f.jsx)("div",{className:"input-group-append",children:Object(f.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return a.handleRemoveEmails(e)},children:Object(f.jsx)(k.h,{size:30,style:{marginTop:-5}})})})]},t)})),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("input",{type:"mail",className:"form-control",id:"formEmail",placeholder:"Escribe el nombre de la compa\xf1ia",onChange:this.handleChangeEmailActual,value:this.state.emailActual}),Object(f.jsxs)("label",{htmlFor:"formEmail",children:[" Email ",isNaN(this.state.emails.length)?1:this.state.emails.length+1," "]})]}),Object(f.jsx)("div",{className:"input-group-append",children:Object(f.jsx)("button",{className:"btn btn-outline-secondary",onClick:this.handleAddEmails,children:Object(f.jsx)(k.i,{size:30,style:{marginTop:-5}})})})]})]}),Object(f.jsxs)("div",{className:"row mb-4",children:[Object(f.jsx)("div",{className:"col-4",children:Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("input",{type:"number",className:"form-control",id:"formPolizasAgentes",placeholder:"Escribe el nombre de la compa\xf1ia",onChange:this.handleChangePolizasAgentes,min:0,value:this.state.polizasAgentes}),Object(f.jsx)("label",{htmlFor:"formPolizasAgentes",children:" Agentes "})]})}),Object(f.jsx)("div",{className:"col-4",children:Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("input",{type:"number",className:"form-control",id:"formPolizasSupervisores",placeholder:"Escribe el nombre de la compa\xf1ia",min:0,onChange:this.handleChangePolizasSupervisores,value:this.state.polizasSupervisores}),Object(f.jsx)("label",{htmlFor:"formPolizasSupervisores",children:" Supervisores "})]})}),Object(f.jsx)("div",{className:"col-4",children:Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("input",{min:0,type:"number",className:"form-control",id:"formPolizasAdministradores",placeholder:"Escribe el nombre de la compa\xf1ia",onChange:this.handleChangePolizasAdministradores,value:this.state.polizasAdministradores}),Object(f.jsx)("label",{htmlFor:"formPolizasAdministradores",children:" Administradores "})]})})]})]})]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-12 d-flex justify-content-center aling-items-center",children:Object(f.jsx)("div",{className:"form-group d-flex justify-content-center mt-5",children:Object(f.jsx)("button",{disabled:this.state.sending,className:"btn btn-primary form-control ",onClick:this.handleSubmit,children:this.props.title})})})})]})})]}):Object(f.jsxs)("div",{className:"text-center h-100",children:[Object(f.jsx)("h1",{className:"mt-5",children:"\xa1No tienes los permisos para visualizar esta ventana!"}),Object(f.jsx)("p",{children:"Debes ser Administrador o un rango m\xe1s arriba para poder entrar aqu\xed"})]}):Object(f.jsx)(b.a,{to:"/"})}}]),a}(s.Component)),w=(a(162),a(30)),A=a(124),E=(a(166),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e/36e5,a=e%36e5/6e4,s=e%36e5%6e4/1e3;return(isNaN(e)||isNaN(parseInt(t))||isNaN(parseInt(a))||isNaN(parseInt(s)))&&console.log("mls: ",e),"".concat(parseInt(t),":").concat(parseInt(a),":").concat(parseInt(s))}),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e/36e5,a=e%36e5/6e4,s=e%36e5%6e4/1e3;return(isNaN(e)||isNaN(parseInt(t))||isNaN(parseInt(a))||isNaN(parseInt(s)))&&console.log("mls: ",e),[parseInt(t),parseInt(a),parseInt(s)]},R=new Date;R.setHours(9,0,0,0);var D=new Date;D.setHours(0,0,0,0);var P=new Date,U=new Date;U.setHours(18,0,0,0);var B=36e5,L=P.getHours()<R.getHours()?D:R,M=new Date;M.setHours.apply(M,Object(w.a)(T(U.getTime()-L.getTime())));var z=a(31),F=a.n(z),H=(a(167),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={selectedView:s.props.options[0],isSelecting:!1},s.handleClickSelectBox=s.handleClickSelectBox.bind(Object(d.a)(s)),s.handleClickOption=s.handleClickOption.bind(Object(d.a)(s)),s.setEvents=s.setEvents.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setEvents()}},{key:"setEvents",value:function(){var e=this;F()("body").on("click",(function(){e.setState({isSelecting:!1})}))}},{key:"handleClickSelectBox",value:function(e){e.preventDefault(),this.setState({isSelecting:!this.state.isSelecting}),e.stopPropagation()}},{key:"handleClickOption",value:function(e){this.setState({selectedView:this.props.options[e-1]}),this.props.onChange(e)}},{key:"render",value:function(){var e,t=this;return Object(f.jsxs)("div",{className:"select-view",children:[Object(f.jsxs)("div",{className:"select-option-box",children:[Object(f.jsx)("label",{className:"label-select",children:"".concat(this.props.title)}),Object(f.jsxs)("div",{className:"select-box",onClick:this.handleClickSelectBox,children:[Object(f.jsx)("p",{className:"text-center option-selected",children:this.state.selectedView}),Object(f.jsx)("p",{className:"arrow",children:Object(f.jsx)(k.g,{})})]})]}),this.state.isSelecting?Object(f.jsx)("div",{className:"view-options",children:null===(e=this.props.options)||void 0===e?void 0:e.map((function(e,a){return Object(f.jsx)("p",{className:"option text-center pt-1",onClick:function(){return t.handleClickOption(a+1)},children:e},a)}))}):""]})}}]),a}(s.Component)),V=a(37),G=a.n(V),J=a(139),Y=(a(169),a(170),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={fecha:new Date,showCalendar:!1,meses:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],date:""},s.handleClickFecha=s.handleClickFecha.bind(Object(d.a)(s)),s.handleChangeFecha=s.handleChangeFecha.bind(Object(d.a)(s)),s.handleChangeFechaFromCalendar=s.handleChangeFechaFromCalendar.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;F()(document).on("click",(function(t){(!(F()(t.target).parent().hasClass("elegir-fecha")||F()(t.target).parent().parent().hasClass("elegir-fecha")||F()(t.target).parent().parent().parent().hasClass("elegir-fecha")||F()(t.target).parent().parent().hasClass("calendar")||F()(t.target).parent().parent().hasClass("react-calendar"))||F()(t.target).parent().parent().parent().parent().hasClass("react-calendar")||F()(t.target).parent().parent().parent().parent().parent().hasClass("react-calendar"))&&e.setState({showCalendar:!1})}))}},{key:"handleClickFecha",value:function(){this.setState({showCalendar:!this.state.showCalendar})}},{key:"handleChangeFecha",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Event;if(void 0!=e.target){var t=e.target.value;isNaN(parseInt(t))||(4==t.length&&"-"!=t||7==t.length&&"-"!=t?this.setState({date:t+"-"}):this.setState({date:t}),this.props.onChange(t))}}},{key:"handleChangeFechaFromCalendar",value:function(e){this.setState({date:G()(e).format("yyyy-MM-DD")})}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"select-fecha",children:[Object(f.jsxs)("div",{className:"input-fecha",children:[Object(f.jsx)("label",{className:"label-fecha",htmlFor:"fecha-control-"+this.props.tipo,children:this.props.label}),Object(f.jsxs)("button",{className:"elegir-fecha",onClick:this.handleClickFecha,children:[Object(f.jsx)("input",{id:"fecha-control-"+this.props.tipo,type:"text",value:this.state.date,onChange:this.handleChangeFecha,className:"opcion-text text-uppercase"}),Object(f.jsx)("div",{className:"opcion-row",children:Object(f.jsx)(k.g,{})})]})]}),this.state.showCalendar?Object(f.jsx)("div",{className:"calendar",children:Object(f.jsx)(J.a,{value:this.state.fecha,allowPartialRange:!0,onChange:function(t){e.props.onChange(t),e.handleChangeFechaFromCalendar(t)},minDate:this.props.minDate||null,maxDate:this.props.maxDate||new Date})}):""]})}}]),a}(s.Component)),W=(a(171),a(63)),X=(a(172),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){var e,t,a,s,n,i,o=this;if(void 0==(null===(e=this.props.agente)||void 0===e?void 0:e.tiempos)||0===(null===(t=this.props.agente)||void 0===t||null===(a=t.tiempos)||void 0===a?void 0:a.length))return Object(f.jsx)("div",{children:"Cargando Datos"});for(var r=[["Estado","Tiempo"]],c=[],l=[],d=null===(s=this.props.agente)||void 0===s?void 0:s.tiempos,h=function(e){var t=d[e],a=l.findIndex((function(e){return(null===e||void 0===e?void 0:e.nombre)==t.estado}));"number"!=typeof t.milliseconds&&console.log("different time: ",t.milliseconds),-1===a?l.push({nombre:t.estado,totalTime:t.milliseconds}):l[a].totalTime+=t.milliseconds},u=0;u<d.length;u++)h(u);l.forEach((function(e,t){var a,s;r.push(["".concat(e.nombre," (").concat(E(e.totalTime),")"),e.totalTime]);var n=null===(a=o.props.barsColors)||void 0===a?void 0:a.findIndex((function(t){return t.estado==e.nombre}));c.push(null===(s=o.props.barsColors[n])||void 0===s?void 0:s.color)}));var m,p=null===(n=this.props.agente)||void 0===n?void 0:n.tiempos[0];if(!p)return Object(f.jsx)("div",{children:"Cargando Datos"});var b=l.find((function(e){return p.estado==e.nombre}));return m=this.props.isToday?"Estado actual: ".concat(null===b||void 0===b?void 0:b.nombre," (").concat(E(null===b||void 0===b?void 0:b.totalTime),")"):"",this.props.setData(r),Object(f.jsxs)("div",{className:"pie-chart",children:[this.props.ready?Object(f.jsx)("p",{className:"text-center h5",children:null===(i=this.props.agente)||void 0===i?void 0:i.nombre}):"",Object(f.jsx)(W.a,{width:"100%",height:"300px",chartType:"PieChart",loader:Object(f.jsx)("div",{children:"Cargando gr\xe1fica"}),options:{title:this.props.isToday?m:null,colors:c},data:r,chartEvents:[{eventName:"ready",callback:this.props.handleReadyChart}]})]})}}]),a}(s.Component)),q=(a(173),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){var e,t,a,s,n,i,o=this;if(void 0==(null===(e=this.props.agente)||void 0===e?void 0:e.tiempos)||0===(null===(t=this.props.agente)||void 0===t||null===(a=t.tiempos)||void 0===a?void 0:a.length)||"object"!==typeof this.props.barsColors)return Object(f.jsx)("div",{children:"Cargando Datos"});for(var r=[["Estado","Tiempo",{role:"style"}]],c=[],l=null===(s=this.props.agente)||void 0===s?void 0:s.tiempos,d=0,h=function(e){var t=l[e],a=c.findIndex((function(e){return(null===e||void 0===e?void 0:e.nombre)==t.estado}));"number"!=typeof t.milliseconds&&console.log("different time: ",t.milliseconds),-1===a?c.push({nombre:t.estado,totalTime:t.milliseconds}):c[a].totalTime+=t.milliseconds},u=0;u<l.length;u++)h(u);c.forEach((function(e,t){var a,s,n=new Date,i=T(e.totalTime);n.setHours.apply(n,Object(w.a)(i));var c=null===(a=o.props.barsColors)||void 0===a?void 0:a.findIndex((function(t){return t.estado==e.nombre}));r.push(["".concat(e.nombre," (").concat(E(e.totalTime),")"),e.totalTime,null===(s=o.props.barsColors[c])||void 0===s?void 0:s.color]),d<parseInt(e.totalTime/B)&&(d=parseInt(e.totalTime/B))}));var m,p=null===(n=this.props.agente)||void 0===n?void 0:n.tiempos[0];if(!p)return Object(f.jsx)("div",{children:"Cargando Datos"});var b=c.find((function(e){return p.estado==e.nombre}));m=this.props.isToday?"Estado actual: ".concat(null===b||void 0===b?void 0:b.nombre," (").concat(E(null===b||void 0===b?void 0:b.totalTime),")"):"",this.props.setData(r);var j=0,g=0;return d>9&&(j=Math.ceil(d/9)+1)>21&&(g=Math.ceil(j/5)+1),Object(f.jsxs)("div",{className:"pie-chart",children:[this.props.ready?Object(f.jsx)("p",{className:"text-center h5",children:null===(i=this.props.agente)||void 0===i?void 0:i.nombre}):"",Object(f.jsx)("div",{style:{height:80*this.props.heightGrafica+50},children:Object(f.jsx)(W.a,{width:"100%",height:"100%",chartType:"BarChart",loader:Object(f.jsx)("div",{children:"Cargando gr\xe1fica"}),options:{title:this.props.isToday?m:null,legend:"none",hAxis:{ticks:d>9?j+1>21?Object(w.a)(Array(g)).map((function(e,t){return{v:9*B*7*t,f:"".concat(t<10?"0".concat(t):t," semana").concat(1!=t?"s":"")}})):Object(w.a)(Array(j)).map((function(e,t){return{v:9*B*t,f:"".concat(t<10?"0".concat(t):t," dia").concat(1!=t?"s":"")}})):Object(w.a)(Array(d+2)).map((function(e,t){return{v:B*t,f:"".concat(t<10?"0".concat(t):t,":00:00")}}))},vAxis:{textStyle:{fontSize:"10px"},minValue:{}}},left:"100px",data:r,chartEvents:[{eventName:"ready",callback:this.props.handleReadyChart}]})})]})}}]),a}(s.Component)),K=(a(174),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={estados:s.props.estados},s}return Object(l.a)(a,[{key:"render",value:function(){var e,t=this;if(void 0==this.props.agentes.length||(null===(e=this.props.estados)||void 0===e?void 0:e.length)<1)return Object(f.jsx)("div",{className:"state-pie-chart",children:"Cargando Datos"});var a=this.props.agentes,s=this.props.estados,n=s.map((function(){return[["Agente","Tiempo"]]}));return a.forEach((function(e,t){var a;if((null===(a=e.tiempos)||void 0===a?void 0:a.length)>0){for(var i=[],o=null===e||void 0===e?void 0:e.tiempos,r=function(e){var t=o[e],a=i.findIndex((function(e){return(null===e||void 0===e?void 0:e.nombre)==t.estado}));"number"!=typeof t.milliseconds&&console.log("different time: ",t.milliseconds),-1===a?i.push({nombre:t.estado,totalTime:t.milliseconds}):i[a].totalTime+=t.milliseconds},c=0;c<o.length;c++)r(c);i.forEach((function(t){var a=null===s||void 0===s?void 0:s.findIndex((function(e){return t.nombre.includes(e.nombre)}));if(a&&-1!==a){var i=n[a]||[],o=null===i||void 0===i?void 0:i.findIndex((function(t){var a;return null===(a=t[0])||void 0===a?void 0:a.includes(e.nombre)}));o&&-1!==o?i[o]=["".concat(e.nombre," (").concat(E(t.totalTime),")"),t.totalTime]:(i.push(["".concat(e.nombre," (").concat(E(t.totalTime),")"),t.totalTime]),n[a]=i,s[a].agentes&&(s[a].agentes=i))}}))}})),this.props.setData(s),Object(f.jsxs)("div",{className:"state-pie-chart w-100 row",children:[n.map((function(e,a){return(null===e||void 0===e?void 0:e.length)>1?Object(f.jsxs)("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xl-6",children:[Object(f.jsx)("p",{className:"text-center h5",children:s[a].nombre}),Object(f.jsx)(W.a,{width:"100%",height:"50vh",chartType:"PieChart",loader:Object(f.jsx)("div",{children:"Cargando gr\xe1fica"}),data:e,options:{colors:t.props.barsColors}})]},a):""})),n.map((function(e,t){return(null===e||void 0===e?void 0:e.length)<=1?Object(f.jsxs)("div",{className:"col-sm-12 col-md-12 col-lg-3 col-xl-3 d-flex align-items-center flex-column justify-content-center",children:[Object(f.jsx)("p",{className:"text-center h5",children:s[t].nombre}),Object(f.jsx)("p",{className:"text-center h6",children:"No se ha registrado este estado en ning\xfan agente"})]},t):""}))]})}}]),a}(s.Component)),Q=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={agentes:s.props.agentes,ready:!1},s.data={dataBarChartAg:[],dataPieChartAg:[],dataPieChartSt:[]},s.getData=s.getData.bind(Object(d.a)(s)),s.handleReadyChart=s.handleReadyChart.bind(Object(d.a)(s)),s.setDataChart=s.setDataChart.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.isToday?this.getData():this.setState({agentes:this.props.agentesPasados})}},{key:"getData",value:function(){var e=Object(y.a)(N.a.mark((function e(){var t,a=this;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("agentes: ",this.props.agentes),this.props.agentes&&(null===(t=this.props.agentes)||void 0===t||t.forEach((function(e){a.props.socket.emit("obtener-estados",e.id)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleReadyChart",value:function(){this.state.ready||this.setState({ready:!0})}},{key:"setDataChart",value:function(e,t){switch(t){case 1:var a=this.data.dataBarChartAg,s=a.findIndex((function(t){return t.agente.id===e.agente.id}));-1==s?a.push({agente:e.agente,data:e.data}):a[s]={agente:e.agente,data:e.data};break;case 2:var n=this.data.dataPieChartAg,i=n.findIndex((function(t){return t.agente.id===e.agente.id}));-1==i?n.push({agente:e.agente,data:e.data}):n[i]={agente:e.agente,data:e.data};break;case 3:this.data.dataPieChartSt=e;break;default:this.data={dataBarChartAg:[],dataPieChartAg:[],dataPieChartSt:[]}}this.props.setGeneralData(this.data)}},{key:"render",value:function(){var e,t,a=this;return Object(f.jsx)("div",{className:"vista-supervisor-graficas pt-5 pb-5",children:1==this.props.vista?Object(f.jsx)("div",{children:null===(e=this.props.agentes)||void 0===e?void 0:e.map((function(e,t){var s;return Object(f.jsx)("div",{className:"col-sm-12 col-md-12-col-lg-12 col-xl-12 bar-chart",children:Object(f.jsx)(q,{agente:e,barsColors:a.props.colors,handleReadyChart:a.handleReadyChart,ready:a.state.ready,isToday:a.props.isToday,setData:function(t){return a.setDataChart({agente:e,data:t},1)},heightGrafica:new Set(null===e||void 0===e||null===(s=e.tiempos)||void 0===s?void 0:s.map((function(e){return e.estado}))).size})},t)}))}):2==this.props.vista?Object(f.jsx)("div",{children:Object(f.jsx)("div",{className:"row",children:null===(t=this.props.agentes)||void 0===t?void 0:t.map((function(e,t){return Object(f.jsx)("div",{className:"col-sm-12 col-md-6-col-lg-6 col-xl-6",children:Object(f.jsx)(X,{setData:function(t){return a.setDataChart({agente:e,data:t},2)},agente:e,barsColors:a.props.colors,handleReadyChart:a.handleReadyChart,ready:a.state.ready,isToday:a.props.isToday})},t)}))})}):Object(f.jsx)(K,{setData:function(e){return a.setDataChart(e,3)},agentes:this.props.agentes,estados:this.props.estados,barsColors:this.props.colors,isToday:this.props.isToday})})}}]),a}(s.Component);a(175);G.a.locale("es");var Z,_,$=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={vista:1,fechaInicio:void 0,fechaFin:void 0,dias:[],agentes:[],agentesPasados:[],estados:[],colors:[],isToday:!0,diasElegidos:[],diaVista:G()(new Date).format("DD/MM/yyyy"),data:[],reporteGeneral:{},isHistoric:!1,historicRange:""},s.interval=0,s.handleChangeVista=s.handleChangeVista.bind(Object(d.a)(s)),s.handleChangeFechaInicio=s.handleChangeFechaInicio.bind(Object(d.a)(s)),s.handleChangeFechaFin=s.handleChangeFechaFin.bind(Object(d.a)(s)),s.handleClickHistorico=s.handleClickHistorico.bind(Object(d.a)(s)),s.handleClickHistoricoGeneral=s.handleClickHistoricoGeneral.bind(Object(d.a)(s)),s.handleChangeDiaElegido=s.handleChangeDiaElegido.bind(Object(d.a)(s)),s.getData=s.getData.bind(Object(d.a)(s)),s.handleClickRealTime=s.handleClickRealTime.bind(Object(d.a)(s)),s.setGeneralData=s.setGeneralData.bind(Object(d.a)(s)),s.getDataReport=s.getDataReport.bind(Object(d.a)(s)),s.barsColors=["#850780","#4109B0","#128217","#F7E414","#E8510C","#F51000","#E60B7B","#0EF8FA","#994F05","#000000"],s.graficas=void 0,s.data=[],s}return Object(l.a)(a,[{key:"getDataReport",value:function(){this.setState({data:this.data})}},{key:"componentDidMount",value:function(){var e=this;this.getData(),this.state.isToday&&(this.props.socket.on("fechas-enviadas",(function(t){var a=e.state.agentes,s=a.findIndex((function(e){return e.id==t.idAgente})),n=new Date;-1!==s&&(t.tiempos?a[s].tiempos=t.tiempos.map((function(e,t,a){var s=0==t?n:new Date(a[t-1].fechaInicio),i=new Date(e.fechaInicio);return{start:i,estado:e.nombre,end:s,milliseconds:s.getTime()-i.getTime()}})):a[s].tiempos=[{estado:"Desconectado",start:L,end:n,milliseconds:n.getTime()-L.getTime()}],e.setState({agentes:a}))})),this.props.socket.on("user-change-state",(function(t){var a=e.state.agentes,s=a.findIndex((function(e){return e.id==t.idUsuario}));if(-1!==s){var n,i=new Date(t.fechaInicio),o=new Date;if(a[s].tiempos.unshift({start:i,estado:t.nombre,end:o,milliseconds:o.getTime()-i.getTime()}),e.setState({agentes:a}),1==e.state.vista)null===(n=e.graficas)||void 0===n||n.forceUpdate()}else console.log("no se encuentra el usuario que cambi\xf3 de estado: ",t)})),this.interval=setInterval((function(){var t=e.state.agentes;t.forEach((function(e){var t,a=new Date(L);if((null===(t=e.tiempos)||void 0===t?void 0:t.length)>0){var s=new Date,n=new Date(e.tiempos[0].start);if(e.tiempos[0].end=s,e.tiempos[0].milliseconds=s.getTime()-n.getTime(),e.tiempos[e.tiempos.length-1].start>L){var i=new Date(e.tiempos[e.tiempos.length-1].start);e.tiempos.push({estado:"Desconectado",start:a,end:i,milliseconds:i.getTime()-a.getTime()})}}else e.tiempos=[{estado:"Desconectado",start:a,end:new Date,milliseconds:(new Date).getTime()-a.getTime()}]})),e.setState({agentes:t})}),1e3))}},{key:"handleChangeVista",value:function(e){this.setState({vista:e})}},{key:"handleChangeFechaInicio",value:function(e){var t=new Date(e);t.setHours(0,0,0,0),this.setState({fechaInicio:t})}},{key:"handleChangeFechaFin",value:function(e){var t=new Date(e);this.setState({fechaFin:t})}},{key:"setGeneralData",value:function(e){var t=this;switch(this.state.vista){case 1:var a;this.data=[["Agente"].concat(Object(w.a)(null===(a=this.state.estados)||void 0===a?void 0:a.map((function(e){return e.nombre}))))],e.dataBarChartAg.forEach((function(e){var a,s=e.agente,n=e.data,i=null===(a=t.state.estados)||void 0===a?void 0:a.map((function(e){var t=n.find((function(t){return t[0].toLocaleLowerCase().includes(e.nombre.toLocaleLowerCase())}));return E(t?t[1]:0)}));t.data.push([s.nombre].concat(Object(w.a)(i)))}));break;case 2:var s;this.data=[["Agente"].concat(Object(w.a)(null===(s=this.state.estados)||void 0===s?void 0:s.map((function(e){return e.nombre}))))],e.dataPieChartAg.forEach((function(e){var a,s=e.agente,n=e.data,i=null===(a=t.state.estados)||void 0===a?void 0:a.map((function(e){var t=n.find((function(t){return t[0].toLocaleLowerCase().includes(e.nombre.toLocaleLowerCase())}));return t?t[1]:0}));t.data.push([s.nombre].concat(Object(w.a)(i)))}));break;case 3:var n=e.dataPieChartSt;this.data=[],n.forEach((function(e){var a,s=e.nombre,n=e.agentes;(t.data.push(["Estado: ",s]),1==n.length)?t.data.push(["No se ","registr\xf3"]):(a=t.data).push.apply(a,Object(w.a)(n))}));break;default:this.data=[]}}},{key:"getData",value:function(){var e=Object(y.a)(N.a.mark((function e(){var t,a,s,n,i,o,r,c,l=this;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({idSupervisor:this.props.id})},e.next=3,fetch(g.LIST_AGENTES,t).catch((function(e){return console.log("error al listar los agentes: ",e)}));case 3:if(!(a=e.sent)){e.next=9;break}return e.next=7,a.json();case 7:s=e.sent,this.setState({agentes:s});case 9:return n={method:"post",mode:"cors",headers:{"Content-Type":"application/json"}},e.next=12,fetch(g.LIST_ESTADOS_VALUES,n);case 12:return i=e.sent,e.next=15,i.json().catch((function(e){return console.log("error al consultar los estados",e)}));case 15:(o=e.sent)&&(r=[],c=[],o.forEach((function(e,t){"out"!=e.estadosIdCat_Name.toLocaleLowerCase()&&(r.push({id:e.estadosIdCat_Id,nombre:e.estadosIdCat_Name,agentes:[["Agente","Tiempo"]]}),c.push({color:l.barsColors[t%l.barsColors.length],estado:e.estadosIdCat_Name}))})),this.setState({estados:r,colors:c}));case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleClickHistorico",value:function(){var e=Object(y.a)(N.a.mark((function e(){var t,a,s,n,i=this;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.state.fechaFin||new Date(this.state.fechaInicio)).setHours(23,59,59,999),a={method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({idSupervisor:this.props.id,fechaInicio:this.state.fechaInicio,fechaFin:t})},e.next=5,fetch(g.GET_HISTORIC,a).catch((function(e){return console.log("ocurri\xf3 un error al obtener los tiempos",e)}));case 5:if(!(s=e.sent)){e.next=11;break}return e.next=9,s.json().catch((function(e){return console.log("error al parsear los datos",e)}));case 9:(n=e.sent)&&function(){var e=i.state.agentes;null===e||void 0===e||e.forEach((function(e){return e.tiempos=[]}));for(var a=new Date(i.state.fechaInicio),s=[],o=[],c=function(){var t=G()(a);t.locale("es");var i=n.filter((function(e){var t=new Date(e.fechaInicio);return t.getDate()==a.getDate()&&t.getMonth()==a.getMonth()})),c={date:new Date(a),data:i,agentes:null===e||void 0===e?void 0:e.map((function(e){var t=i.filter((function(t){return t.userId==e.id})).sort((function(e,t){return t.fechaInicio-e.fechaInicio}));return Object(r.a)(Object(r.a)({},e),{},{tiempos:t.length>0?null===t||void 0===t?void 0:t.map((function(e,a){var s,n=new Date(e.fechaInicio);return 0==a?(s=new Date(e.fechaInicio),n.getHours()>=U.getHours()&&n.getMinutes()>=U.getMinutes()?s.setHours(23,59,59,59):s.setHours(U.getHours(),0,0,0)):s=new Date(t[a-1].fechaInicio),{start:n,estado:e.estado,end:s,milliseconds:s.getTime()-n.getTime()}})):[]})}))};o.push((t.dayOfYear()==G()(new Date).dayOfYear()?"(hoy)":"")+t.format("dddd DD/MM/yyyy")),s.push(c),a.setTime(a.getTime()+24*B)};a<=t&&e;)c();var l={agentes:[]};s.forEach((function(e,t){e.agentes.forEach((function(e){var t,a=null===(t=l.agentes)||void 0===t?void 0:t.findIndex((function(t){return t.id==e.id}));-1!==a?l.agentes[a].tiempos=l.agentes[a].tiempos.concat(e.tiempos):l.agentes.push(e)}))})),i.setState({dias:s,diasElegidos:o,reporteGeneral:l}),i.handleChangeDiaElegido(1)}();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleClickHistoricoGeneral",value:function(){var e;clearInterval(this.interval),this.interval=0;var t=G()(this.state.fechaInicio).format("DD/MM/yyyy")+"-"+G()(this.state.fechaFin).format("DD/MM/yyyy");this.setState({isHistoric:!0,historicRange:t});var a=null===(e=this.state.reporteGeneral)||void 0===e?void 0:e.agentes,s=new Date(this.state.fechaInicio),n=new Date(this.state.fechaFin);s.setHours(9,0,0,0),n.setHours(19,0,0,0),a.forEach((function(e){var t;if(0==(null===(t=e.tiempos)||void 0===t?void 0:t.length))e.tiempos.push({start:s,estado:"Desconectado",end:n,milliseconds:n.getTime()-s.getTime()});else{var a,i=new Date(e.tiempos[(null===(a=e.tiempos)||void 0===a?void 0:a.length)-1].end);if(i.getDate()!=n.getDate()||i.getMonth()!=n.getMonth()){var o=n.getHours()-i.getHours();i.setDate(i.getDate()+1),i.setHours(9,0,0,0),console.log("lastTime: ",i),console.log("end: ",n);var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,a=Math.abs(e.getTime()-t.getTime());return console.log("mls of difference: ",a),Math.ceil(a/864e5)}(i,n);console.log("dias de diferencia: ",r);var c=9*r;e.tiempos.push({start:i,estado:"Desconectado",end:n,milliseconds:B*(c+o)})}}})),this.setState({agentesPasados:a,isToday:!1})}},{key:"handleChangeDiaElegido",value:function(e){if(e&&0!=e){var t=e-1,a=this.state.dias[t].date;this.setState({diaVista:G()(a).format("DD/MM/yyyy"),isHistoric:!1});var s=new Date;if(t>=0){if(s.getDate()==a.getDate()&&s.getMonth()==a.getMonth())return void this.handleClickRealTime();clearInterval(this.interval),this.interval=0;var n=this.state.dias[t].agentes;n.forEach((function(e){var t;if(0==(null===(t=e.tiempos)||void 0===t?void 0:t.length)){var s=new Date(a),n=new Date(a);s.setHours(9,0,0,0),n.setHours(19,0,0,0),e.tiempos.push({start:s,estado:"Desconectado",end:n,milliseconds:n.getTime()-s.getTime()})}})),this.setState({agentesPasados:n,isToday:!1})}}}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),this.interval=0}},{key:"handleClickRealTime",value:function(){var e=this;this.setState({isToday:!0,diaVista:G()(new Date).format("DD/MM/yyyy")}),0===this.interval&&(this.interval=setInterval((function(){var t=e.state.agentes;t.forEach((function(e){var t,a=new Date(L);if((null===(t=e.tiempos)||void 0===t?void 0:t.length)>0){var s=new Date,n=new Date(e.tiempos[0].start);if(e.tiempos[0].end=s,e.tiempos[0].milliseconds=s.getTime()-n.getTime(),e.tiempos[e.tiempos.length-1].start>L){var i=new Date(e.tiempos[e.tiempos.length-1].start);e.tiempos.push({estado:"Desconectado",start:a,end:i,milliseconds:i.getTime()-a.getTime()})}}else e.tiempos=[{estado:"Desconectado",start:a,end:new Date,milliseconds:(new Date).getTime()-a.getTime()}]})),e.setState({agentes:t})}),1e3))}},{key:"render",value:function(){var e,t,a=this;return Object(f.jsxs)("div",{className:"vista-supervisor ",children:[Object(f.jsx)("div",{className:"controls row",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-sm-12 col-md-12 col-lg-8 col-xl-8",children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-6 col-xl-6",children:Object(f.jsx)(H,{title:"Seleccionar vista",options:["Tiempos por agente (barras)","Tiempos por agente","Tiempos por estado"],onChange:this.handleChangeVista})}),Object(f.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xl-6",children:(null===(e=this.state.diasElegidos)||void 0===e?void 0:e.length)>0?Object(f.jsx)(H,{title:"Seleccionar dia",options:this.state.diasElegidos,onChange:this.handleChangeDiaElegido}):""})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xl-6",children:Object(f.jsx)(Y,{tipo:"inicio",label:"Desde",onChange:this.handleChangeFechaInicio,maxDate:this.state.fechaFin})}),Object(f.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xl-6",children:Object(f.jsx)(Y,{tipo:"fin",label:"Hasta",minDate:this.state.fechaInicio,onChange:this.handleChangeFechaFin})})]})]}),Object(f.jsxs)("div",{className:"col-sm-12 col-md-12 col-lg-4 col-xl-4",children:[Object(f.jsxs)("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex justify-content-center align-items-center",children:[Object(f.jsx)("div",{className:"col-6 justify-content-center align-items-center p-1 d-flex",children:this.state.fechaInicio?Object(f.jsx)("a",{onClick:this.handleClickHistorico,className:"btn btn-primary mr-2",children:"Ver reporte"}):""}),Object(f.jsx)("div",{className:"col-6 justify-content-center align-items-center p-1 d-flex",children:Object(f.jsx)(A.CSVLink,{className:"btn btn-primary ms-2",data:this.state.data,onClick:this.getDataReport,target:"_blank",filename:"Reporte-".concat(1==this.state.vista||2==this.state.vista?"Estados por agente":"Estados Registrados","-").concat(this.state.isHistoric?"REPORTE-HISTORICO-"+this.state.historicRange:this.state.diaVista,".csv"),children:"Descargar Reporte"})})]}),Object(f.jsxs)("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex justify-content-center align-items-center",children:[Object(f.jsx)("div",{className:"col-6 justify-content-center align-items-center p-1 d-flex",children:this.state.isToday?null:Object(f.jsx)("a",{onClick:this.handleClickRealTime,className:"btn btn-primary ms-2",children:"Ver tiempo real"})}),Object(f.jsx)("div",{className:"col-6 justify-content-center align-items-center p-1 d-flex",children:this.state.dias.length>1?Object(f.jsx)("a",{onClick:this.handleClickHistoricoGeneral,className:"btn btn-primary mr-2",children:"Ver reporte general"}):""})]})]})]})}),(null===(t=this.state.agentes)||void 0===t?void 0:t.length)>0?Object(f.jsx)(Q,{ref:this.graficas,userName:this.props.userName,id:this.props.id,socket:this.props.socket,vista:this.state.vista,setActualInterval:function(e){return a.interval=e},agentes:this.state.isToday?this.state.agentes:this.state.agentesPasados,estados:this.state.estados,colors:this.state.colors,isToday:this.state.isToday,agentesPasados:this.state.agentesPasados,setGeneralData:this.setGeneralData}):""]})}}]),a}(s.Component),ee=a(126),te=(a(176),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={arreEst:[],active:-1,cp:""},s.handleClick=s.handleClick.bind(Object(d.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(d.a)(s)),s.getData=s.getData.bind(Object(d.a)(s)),s.miliSeg=E,s.recuperarTiempos=s.recuperarTiempos.bind(Object(d.a)(s)),s.handleChangeCp=s.handleChangeCp.bind(Object(d.a)(s)),s.handleClickValidarCp=s.handleClickValidarCp.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var e=Object(y.a)(N.a.mark((function e(){var t,a,s,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"post",mode:"cors",headers:{"Content-Type":"application/json"}},e.next=3,fetch(g.LIST_ESTADOS_VALUES,t);case 3:return a=e.sent,e.next=6,a.json();case 6:s=e.sent,n=this.state.arreEst,s.forEach((function(e,t){"out"!=e.estadosIdCat_Name.toLocaleLowerCase()&&(n[t]={id:e.estadosIdCat_Id,nombre:e.estadosIdCat_Name,intervalo:-1,time:0})})),this.setState({arreEst:n}),this.recuperarTiempos();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recuperarTiempos",value:function(){var e=this;this.props.socket.emit("obtener-estados",this.props.id),this.props.socket.on("fechas-enviadas",(function(t){e.state.arreEst.some((function(e){return-1!=e.intervalo}))&&e.state.arreEst.filter((function(e){return-1!=e.intervalo})).forEach((function(e){return clearInterval(e.intervalo)}));var a=t.tiempos;console.log("Tiempos",a);var s=e.state.arreEst,n=Date.now();if(0==a.length){var i=s.findIndex((function(e){return"Disponible"==e.nombre}));e.handleClick(i)}a.forEach((function(t,a,i){var o=new Date(t.fechaInicio).getTime(),r=s.findIndex((function(e){return e.id==t.idEstado}));if(0===a)"Desconectado"==t.nombre&&(r=s.findIndex((function(e){return"Disponible"==e.nombre})),e.handleClick(r)),s[r].time=s[r].time+(n-o),-1!==s[r].intervalo&&clearInterval(s[r].intervalo),s[r].intervalo=setInterval((function(){s[r].time=s[r].time+1e3,e.setState({arreEst:s})}),1e3),e.setState({active:s[r].id});else{var c=new Date(i[a-1].fechaInicio).getTime();s[r].time=s[r].time+(c-o)}})),e.setState({arreEst:s})}))}},{key:"handleClick",value:function(e){var t=this,a=this.state.arreEst,s=a[e],n=a.findIndex((function(e){return-1!==e.intervalo}));this.setState({active:s.id}),n>=0&&(clearInterval(a[n].intervalo),a[n].intervalo=-1),a[e].intervalo=setInterval((function(){a[e].time=a[e].time+1e3,t.setState({arreEst:a})}),1e3),this.props.socket.emit("cambio-estado",{idUsuario:this.props.id,idEstado:s.id,fechaInicio:new Date,nombre:s.nombre})}},{key:"handleSubmit",value:function(){var e=this.state.arreEst;e.forEach((function(e){-1!==e.intervalo&&(clearInterval(e.intervalo),e.intervalo=-1)})),this.setState({arreEst:e})}},{key:"handleChangeCp",value:function(e){this.setState({cp:e.target.value})}},{key:"handleClickValidarCp",value:function(){var e=Object(y.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({cp:this.state.cp})},e.next=3,fetch(g.VALIDAR_CP,t);case 3:return a=e.sent,e.next=6,a.json();case 6:1==e.sent.correct?alert("Es correcto"):alert("No es correcto");case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this;return Object(f.jsxs)("div",{className:"hvh-100 w-100 d-flex justify-content-start flex-column",children:[Object(f.jsxs)("h1",{className:"text-center dispaly-6 m-5",children:[" Agente: ",this.props.userName,"  "]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-6 col-xl-6",children:null===(e=this.state.arreEst)||void 0===e?void 0:e.map((function(e,a){return"Desconectado"!=e.nombre?Object(f.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-6 col-xl-6",children:Object(f.jsxs)("div",{className:"form-group d-flex mt-1",children:[Object(f.jsxs)("a",{className:"btn ".concat(t.state.active==e.id?"btn-success":"btn-primary"," left form-control"),role:"button",onClick:function(){return t.handleClick(a)},value:"Estados",children:[" ",e.nombre," "]}),Object(f.jsxs)("label",{className:"ml-2",children:["  ",t.miliSeg(e.time),"   "]})]})},a):""}))}),Object(f.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-4 col-xl-4 d-flex align-items-center justify-content-center flex-end",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("input",{id:"cp",type:"number",value:this.state.cp,onChange:this.handleChangeCp,className:"form-control"}),Object(f.jsx)("label",{htmlFor:"cp",children:" Validar CP"})]}),Object(f.jsxs)("a",{rel:"noreferrer",href:"https://ardabytec.vip/",target:"_blank",className:"mt-1 w-50 btn btn-outline-info go-to-vicidial",children:[" Ir a vicidial ",Object(f.jsx)(ee.a,{})]}),Object(f.jsx)("a",{onClick:this.handleClickValidarCp,className:"mt-1 w-50 btn btn-primary",children:" Validar"})]})})]})]})}}]),a}(s.Component)),ae=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return Object(f.jsx)("div",{className:"home d-flex flex-column align-items-center",children:this.props.isLogged?1==this.props.tipoUsuario?Object(f.jsx)(te,{userName:this.props.userName,id:this.props.id,socket:this.props.socket}):Object(f.jsx)($,{userName:this.props.userName,id:this.props.id,socket:this.props.socket}):Object(f.jsxs)("div",{className:"text-center h-100",children:[Object(f.jsx)("h1",{className:"mt-5",children:"\xa1A\xfan no estas loggeado!"}),Object(f.jsx)("p",{children:"Debes estar loggeado para poder interactuar"}),Object(f.jsxs)("p",{children:["Inicia sesi\xf3n dando click en Iniciar sesi\xf3n, o da click ",Object(f.jsx)(p.b,{to:"/login",children:"aqui"})]})]})})}}]),a}(s.Component),se=(a(177),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return Object(f.jsx)("header",{children:Object(f.jsx)("nav",{className:"navbar fixed-top navbar-expand-lg navbar-dark",children:Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("a",{href:"/#/",className:"navbar-brand",style:{border:"none"},children:Object(f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtEAAADLCAMAAACfxT/hAAAA2FBMVEVMaXECyO3///////////8CyO3///////////8CyO3///////8CyO0CyO3///////////8CyO0CyO0CyO0CyO3///////////8CyO3///8CyO0CyO0CyO0CyO0CyO3///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8CyO3///8ZZqdGAAAARnRSTlMAQBDwgIDgQMDAoGDwEDDQICDgoGCwkHDQUJAwULBwLv1K1vnippIf/vucPOiHyFj2V6/c83zP9+friLhkccH8upRM2O/KWVS4nAAAAAlwSFlzAAALEgAACxIB0t1+/AAAHiVJREFUeJztnWl72zawhWmKFmUpluTEkiKncdI1bdK9Tde0dzf//z+6D3dgMAMMQGihM+dTYpIAKL4EhwPwIBmgT8H/fxhSmEh0cv0G/v9/J2qHSBRHn4P/Tz+cqCEiUQx9WoA/TL8/UUtEohj62SAadtoi0Zj0p0F08e5ETRGJhutNYRL95YnaIhIN11cI0X+eqC0i0XD9ghBdpCdqjEg0WK8xor87UWNEoqH6UGBEf3ai1ohEQ/U9SvTrE7VGJBqqH1Gii59O1ByRaJjeFTjR/56oPSLRMH1JEP3jidojEg3THwTRxasTNUgkGqK0oIh+e6IWiURD9B1J9BcnapFINESfkUTDP4pEY9A3NNHvT9QkkShcPxU00TJsKBqf/rYQ/c2J2iQShetXC9EF/ERcJDp3vSpsRP98olaJPnoF662V6MmJWiX66BWsL6xEF29O1CyRKFBf24n+6kTNEonC9L6wEy3DhqJx6TcH0V+fqF0iUZg+dxBd/HOiholEIfq0cBEtbmGiMelnJ9HiFiYakyZOosUtTDQivSncRItbmGg8+opBtLiFicajXxhEi1uYaDx6zSFahg1FY9GHgkO0TPsXjUXfs4gWtzDRWPQ5i2hxCxONRO8KHtHiFiYah75kEi1uYaJx6A8m0eIWJhqF0oJLtAwbisag79hEy7R/0Rj0GZtocQsTjUGv+USLW5jo/PVT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",alt:"Ardabytec",className:"logo-navbar"})}),Object(f.jsx)("button",{className:"navbar-toggler ",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(f.jsx)("span",{className:"navbar-toggler-icon"})}),Object(f.jsx)("div",{className:"collapse navbar-collapse align-items-end links",id:"navbarText",children:Object(f.jsx)("ul",{className:"navbar-nav mb-2 mb-lg-0 ",style:{right:0},children:this.props.isLogged?null:Object(f.jsx)("li",{className:"nav-item-sup",children:Object(f.jsx)(p.b,{to:"/login",className:"nav-link text-white",children:"Iniciar sesi\xf3n"})})})})]})})})}}]),a}(s.Component)),ne=(a(178),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={usuario:{tipoUsuario:0},search:"",resultados:[]},s.handleSearch=s.handleSearch.bind(Object(d.a)(s)),s.handleEnterSearch=s.handleEnterSearch.bind(Object(d.a)(s)),s.handleChangeSearch=s.handleChangeSearch.bind(Object(d.a)(s)),s.handleSelectUserModify=s.handleSelectUserModify.bind(Object(d.a)(s)),s.resetAll=s.resetAll.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"resetAll",value:function(){this.setState({usuario:{tipoUsuario:0},search:"",resultados:[]})}},{key:"handleSearch",value:function(){var e=Object(y.a)(N.a.mark((function e(){var t,a,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({searchString:this.state.search,idSupervisor:this.props.id})},e.next=3,fetch(g.SEARCH_USERS,t).catch((function(e){return console.error("error en la petici\xf3n para hacer la b\xfasqueda: ",e)}));case 3:if(!(a=e.sent)){e.next=9;break}return e.next=7,a.json().catch((function(e){return console.error("error en el parseo de datos para hacer la b\xfasqueda: ",e)}));case 7:(s=e.sent)&&(1==s.length&&this.handleSelectUserModify(s[0]),this.setState({resultados:s}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleEnterSearch",value:function(e){"Enter"==e.key&&this.handleSearch(),e.stopPropagation()}},{key:"handleChangeSearch",value:function(e){this.setState({search:e.target.value})}},{key:"handleSelectUserModify",value:function(){var e=Object(y.a)(N.a.mark((function e(t){var a,s,n,i,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({usuario:{tipoUsuario:0}}),n={method:"post",mode:"cors",headers:{"Content-Type":"application/json"}},e.next=4,fetch(g.LIST_AGENTES,Object(r.a)(Object(r.a)({},n),{},{body:JSON.stringify({idSupervisor:t.id})}));case 4:return i=e.sent,e.next=7,fetch(g.LIST_SUPERVISORES,Object(r.a)(Object(r.a)({},n),{},{body:JSON.stringify({idAgente:t.id})}));case 7:return o=e.sent,e.next=10,o.json();case 10:return o=e.sent,e.next=13,i.json();case 13:i=e.sent,t.supervisores=null===(a=o)||void 0===a?void 0:a.map((function(e){return e.id})),t.agentes=null===(s=i)||void 0===s?void 0:s.map((function(e){return e.id})),console.log("elegido: ",t),this.setState({usuario:t,search:""});case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a,s=this;return this.props.isLogged?this.props.tipoUsuario>2?Object(f.jsx)("div",{className:"vista-modificar hvh-100 d-flex justify-center-start flex-column pt-3",children:Object(f.jsx)("div",{className:"d-flex justify-content-center align-itens-center h-100 w-100",children:Object(f.jsxs)("div",{className:"row w-100",children:[Object(f.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-3 col-xl-4"}),Object(f.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xl-4",children:Object(f.jsxs)("div",{className:"d-flex align-items-center",children:[Object(f.jsx)("input",{type:"text",className:"form-control ",placeholder:"",onKeyPress:this.handleEnterSearch,onChange:this.handleChangeSearch,value:this.state.search}),Object(f.jsx)("a",{className:"btn btn-primary m-2",onClick:this.handleSearch,children:"Buscar"})]})}),Object(f.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-3 col-xl-4"}),Object(f.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xl-6",children:(null===(e=this.state.resultados)||void 0===e?void 0:e.length)>0?Object(f.jsxs)("table",{className:"table",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{scope:"col",children:"UserName"}),Object(f.jsx)("th",{scope:"col",children:"Nombre"}),Object(f.jsx)("th",{scope:"col",children:"Tipo de usuario"})]})}),Object(f.jsx)("tbody",{children:null===(t=this.state.resultados)||void 0===t?void 0:t.map((function(e){return Object(f.jsxs)("tr",{className:"selectable",onClick:function(){return s.handleSelectUserModify(e)},children:[Object(f.jsx)("td",{children:e.nombreUsuario}),Object(f.jsx)("td",{children:e.nombreCompleto}),Object(f.jsx)("td",{children:e.nombreTipoUsuario})]})}))})]}):""}),Object(f.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xl-6 scrollable adjust-100",children:(null===(a=this.state.usuario)||void 0===a?void 0:a.tipoUsuario)>0?Object(f.jsx)(S,{usuario:this.state.usuario,isLogged:this.props.isLogged,tipoUsuario:this.props.tipoUsuario,idVcc:this.props.idVcc,title:"Modificar",isEditable:!0,resetAll:this.resetAll,id:this.props.id}):Object(f.jsx)("div",{className:"usr-not-selected",children:0==this.state.resultados.length?Object(f.jsx)("h1",{className:"text-center",children:" Busca a un usuario"}):Object(f.jsx)("h1",{className:"text-center",children:" Selecciona un usuario usuario"})})})]})})}):Object(f.jsxs)("div",{className:"text-center h-100",children:[Object(f.jsx)("h1",{className:"mt-5",children:"\xa1No tienes los permisos para visualizar esta ventana!"}),Object(f.jsx)("p",{children:"Debes ser Administrador o un rango m\xe1s arriba para poder entrar aqu\xed"})]}):Object(f.jsx)(b.a,{to:"/"})}}]),a}(s.Component)),ie=a(48),oe=a(127),re=a(128),ce=a(68),le=a(89),de=a(100),he=(a(179),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={isExpanded:!1,menuIsToggled:!1,expandOption:[]},s.handleExpandBar=s.handleExpandBar.bind(Object(d.a)(s)),s.handleClickItem=s.handleClickItem.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;F()(document).on("click",(function(t){var a=t.target,s=document.getElementById("sidebar"),n=F()(a);F.a.contains(s,a)||n.hasClass("sidebar")||n.hasClass("side-icon")||e.setState({isExpanded:!1,expandOption:[]})}))}},{key:"handleExpandBar",value:function(){this.setState({isExpanded:!this.state.isExpanded}),this.state.isExpanded&&this.setState({expandOption:[]})}},{key:"handleClickItem",value:function(e){var t=this.state.expandOption;t[e]=!t[e],this.setState({expandOption:t})}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("nav",{id:"sidebar",className:"sidebar fixed-left ".concat(this.state.isExpanded?"expand":""),children:[Object(f.jsxs)("ul",{className:"sidebar-icons",children:[Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)("div",{className:"nav-link side-link text-white",onClick:this.handleExpandBar,children:this.state.isExpanded?Object(f.jsx)(ce.a,{title:"Expandir",color:"white",size:"30",className:"side-icon"}):Object(f.jsx)(ce.b,{title:"Expandir",color:"white",size:"30",className:"side-icon"})})}),this.props.isLogged&&this.props.tipoUsuario>1?Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(p.b,{to:"/",className:"nav-link side-link text-white ",children:Object(f.jsx)(k.f,{title:"Dashboard",color:"white",size:"30",className:"side-icon"})})}):null,this.props.isLogged&&this.props.tipoUsuario>2?Object(f.jsx)("li",{className:"nav-item  ".concat(this.state.isExpanded?"":"circular-menu"),children:this.state.isExpanded?Object(f.jsx)("div",{className:"nav-link side-link text-white ",onClick:function(){return e.handleClickItem(0)},children:Object(f.jsx)(ie.g,{title:"Dashboard",color:"white",size:"30",className:"side-icon"})}):Object(f.jsxs)(de.a,{autoClose:!0,orbitRadius:80,hideOrbit:!0,centerContent:Object(f.jsx)("div",{className:"circular-menu-center",children:Object(f.jsx)(ie.g,{title:"Administrar usuarios",color:"white",size:"30",className:"side-icon"})}),children:[Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)(p.b,{className:"circular-menu-item",to:"/register-user",children:Object(f.jsx)(ie.f,{color:"white",size:30,title:"Registar usuario"})}),Object(f.jsx)(p.b,{className:"circular-menu-item",to:"/modify-user",children:Object(f.jsx)(ie.d,{color:"white",title:"Editar usuario",size:30})}),Object(f.jsx)(p.b,{className:"circular-menu-item",to:"/delete-user",children:Object(f.jsx)(ie.e,{title:"Eliminar usuario",color:"white",size:30})}),Object(f.jsx)("div",{})]})}):null,this.state.expandOption[0]?Object(f.jsx)("li",{className:"submenu-spacing"}):null,this.props.isLogged&&this.props.tipoUsuario>2?Object(f.jsx)("li",{className:"nav-item  ".concat(this.state.isExpanded?"":"circular-menu"),children:this.state.isExpanded?Object(f.jsx)("div",{className:"nav-link side-link text-white ",onClick:function(){return e.handleClickItem(1)},children:Object(f.jsx)(ce.c,{title:"Dashboard",color:"white",size:"30",className:"side-icon"})}):Object(f.jsxs)(de.a,{autoClose:!0,orbitRadius:80,hideOrbit:!0,centerContent:Object(f.jsx)("div",{className:"circular-menu-center",children:Object(f.jsx)(ce.c,{title:"Administrar empresas",color:"white",size:"30",className:"side-icon"})}),children:[Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsxs)(p.b,{className:"circular-menu-item",to:"/register-company",children:[Object(f.jsx)("div",{className:"plus",children:Object(f.jsx)(ie.b,{size:13,color:"white",title:"Agregar empresa"})}),Object(f.jsx)(le.a,{color:"white",size:30})]}),Object(f.jsxs)(p.b,{className:"circular-menu-item",to:"/modify-company",children:[Object(f.jsx)("div",{className:"pencil",children:Object(f.jsx)(oe.a,{size:21,fill:"white",color:"#131b25",title:"Modificar empresa"})}),Object(f.jsx)(le.a,{color:"white",size:30})]}),Object(f.jsxs)(p.b,{className:"circular-menu-item",to:"/delete-company",children:[Object(f.jsx)("div",{className:"plus",children:Object(f.jsx)(ie.a,{size:13,color:"white",title:"Eliminar empresa"})}),Object(f.jsx)(le.a,{color:"white",size:30})]}),Object(f.jsx)("div",{})]})}):null,this.state.expandOption[1]?Object(f.jsx)("li",{className:"submenu-spacing"}):null,this.props.isLogged&&this.props.tipoUsuario>2?Object(f.jsx)("li",{className:"nav-item  ".concat(this.state.isExpanded?"":"circular-menu"),children:Object(f.jsx)("div",{className:"nav-link side-link text-white ",children:Object(f.jsx)(p.b,{to:"/view-experience",children:Object(f.jsx)(ce.d,{title:"Administrar experiencias",color:"white",size:"30",className:"side-icon"})})})}):null,Object(f.jsx)("li",{className:"nav-item",children:this.props.isLogged?Object(f.jsx)(p.b,{to:"/logout",className:"nav-link side-link text-white",children:Object(f.jsx)(re.a,{title:"Cerrar sesi\xf3n",color:"white",size:"30",className:"side-icon"})}):Object(f.jsx)(p.b,{to:"/login",className:"nav-link side-link text-white",children:Object(f.jsx)(ie.c,{title:"Iniciar sesi\xf3n",color:"white",size:"30",className:"side-icon"})})})]}),Object(f.jsxs)("ul",{className:"sidebar-content ".concat(this.state.isExpanded?"expand":""),children:[Object(f.jsx)("li",{className:"nav-item content",children:Object(f.jsx)("div",{className:"nav-link side-link text-white",onClick:this.handleExpandBar,children:"Replegar"})}),this.props.isLogged&&this.props.tipoUsuario>1?Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)(p.b,{to:"/",className:"nav-link side-link text-white ",onClick:function(){return e.setState({isExpanded:!1,expandOption:[]})},children:"Dashboards"})}):null,this.props.isLogged&&this.props.tipoUsuario>2?Object(f.jsxs)("li",{className:"nav-item",children:[Object(f.jsx)("div",{className:"nav-link side-link text-white ",onClick:function(){return e.handleClickItem(0)},children:"Usuarios"}),this.state.expandOption[0]?Object(f.jsxs)("ul",{className:"content-submenu",children:[Object(f.jsx)("li",{className:"nav-item submenu",children:Object(f.jsx)(p.b,{to:"/register-user",className:"nav-link side-link text-white ",onClick:function(){return e.setState({isExpanded:!1,expandOption:[]})},children:"Registrar"})}),Object(f.jsx)("li",{className:"nav-item submenu",children:Object(f.jsx)(p.b,{to:"/modify-user",className:"nav-link side-link text-white ",onClick:function(){return e.setState({isExpanded:!1,expandOption:[]})},children:"Modificar"})}),Object(f.jsx)("li",{className:"nav-item submenu",children:Object(f.jsx)(p.b,{to:"/delete-user",className:"nav-link side-link text-white ",onClick:function(){return e.setState({isExpanded:!1,expandOption:[]})},children:"Eliminar"})})]}):null]}):null,this.props.isLogged&&this.props.tipoUsuario>2?Object(f.jsxs)("li",{className:"nav-item",children:[Object(f.jsx)("div",{className:"nav-link side-link text-white ",onClick:function(){return e.handleClickItem(1)},children:"Empresas"}),this.state.expandOption[1]?Object(f.jsxs)("ul",{className:"content-submenu",children:[Object(f.jsx)("li",{className:"nav-item submenu",children:Object(f.jsx)(p.b,{to:"/register-company",className:"nav-link side-link text-white ",onClick:function(){return e.setState({isExpanded:!1,expandOption:[]})},children:"Registrar"})}),Object(f.jsx)("li",{className:"nav-item submenu",children:Object(f.jsx)(p.b,{to:"/modify-company",className:"nav-link side-link text-white ",onClick:function(){return e.setState({isExpanded:!1,expandOption:[]})},children:"Modificar"})}),Object(f.jsx)("li",{className:"nav-item submenu",children:Object(f.jsx)(p.b,{to:"/delete-company",className:"nav-link side-link text-white ",onClick:function(){return e.setState({isExpanded:!1,expandOption:[]})},children:"Eliminar"})})]}):null]}):null,this.props.isLogged&&this.props.tipoUsuario>2?Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsx)("div",{className:"nav-link side-link text-white ",onClick:function(){e.handleClickItem(2)},children:Object(f.jsx)(p.b,{to:"/view-experience",style:{color:"white",textDecoration:"none"},children:"Experiencias"})})}):null,Object(f.jsx)("li",{className:"nav-item",children:this.props.isLogged?Object(f.jsx)(p.b,{to:"/logout",className:"nav-link side-link text-white",onClick:function(){return e.setState({isExpanded:!1,expandOption:[]})},children:"Cerrar sesi\xf3n"}):Object(f.jsx)(p.b,{to:"/login",className:"nav-link side-link text-white",onClick:function(){return e.setState({isExpanded:!1,expandOption:[]})},children:"Inicar sesi\xf3n"})})]})]})}}]),a}(s.Component)),ue=(a(180),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={usuario:{tipoUsuario:0},search:"",resultados:[]},s.handleSearch=s.handleSearch.bind(Object(d.a)(s)),s.handleEnterSearch=s.handleEnterSearch.bind(Object(d.a)(s)),s.handleChangeSearch=s.handleChangeSearch.bind(Object(d.a)(s)),s.handleDeleteUser=s.handleDeleteUser.bind(Object(d.a)(s)),s.resetAll=s.resetAll.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"resetAll",value:function(){this.setState({usuario:{tipoUsuario:0},search:"",resultados:[]})}},{key:"handleSearch",value:function(){var e=Object(y.a)(N.a.mark((function e(){var t,a,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({searchString:this.state.search,idSupervisor:this.props.id})},e.next=3,fetch(g.SEARCH_USERS,t).catch((function(e){return console.error("error en la petici\xf3n para hacer la b\xfasqueda: ",e)}));case 3:if(!(a=e.sent)){e.next=9;break}return e.next=7,a.json().catch((function(e){return console.error("error en el parseo de datos para hacer la b\xfasqueda: ",e)}));case 7:(s=e.sent)&&(1==s.length&&this.handleDeleteUser(s[0]),this.setState({resultados:s}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleEnterSearch",value:function(e){"Enter"==e.key&&this.handleSearch(),e.stopPropagation()}},{key:"handleChangeSearch",value:function(e){this.setState({search:e.target.value})}},{key:"handleDeleteUser",value:function(){var e=Object(y.a)(N.a.mark((function e(t){var a,s,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({usuario:{tipoUsuario:0}}),a={method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({idUsuario:t,idSupervisor:this.props.id})},console.log("se env\xeda: ",a),e.next=5,fetch(g.DELETE_USER,a);case 5:return s=e.sent,e.next=8,s.json();case 8:"correcto"==e.sent.result?(n=(n=this.state.resultados).filter((function(e){return e.id!=t})),this.setState({resultados:n})):alert("error al eliminar al usuario"),console.log("respuesta: ");case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a=this;return this.props.isLogged?this.props.tipoUsuario>2?Object(f.jsx)("div",{className:"vista-modificar hvh-100 d-flex justify-center-start flex-column pt-3",children:Object(f.jsx)("div",{className:"d-flex justify-content-center align-itens-center h-100 w-100",children:Object(f.jsxs)("div",{className:"row w-100",children:[Object(f.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-3 col-xl-4"}),Object(f.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-6 col-xl-4",children:Object(f.jsxs)("div",{className:"d-flex align-items-center",children:[Object(f.jsx)("input",{type:"text",className:"form-control ",placeholder:"",onKeyPress:this.handleEnterSearch,onChange:this.handleChangeSearch,value:this.state.search}),Object(f.jsx)("a",{className:"btn btn-primary m-2",onClick:this.handleSearch,children:"Buscar"})]})}),Object(f.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-3 col-xl-4"}),Object(f.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-12 col-xl-12",children:(null===(e=this.state.resultados)||void 0===e?void 0:e.length)>0?Object(f.jsxs)("table",{className:"table",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{scope:"col",children:"UserName"}),Object(f.jsx)("th",{scope:"col",children:"Nombre"}),Object(f.jsx)("th",{scope:"col",children:"Tipo de usuario"}),Object(f.jsx)("th",{scope:"col",children:"Eliminar"})]})}),Object(f.jsx)("tbody",{children:null===(t=this.state.resultados)||void 0===t?void 0:t.map((function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.nombreUsuario}),Object(f.jsx)("td",{children:e.nombreCompleto}),Object(f.jsx)("td",{children:e.nombreTipoUsuario}),Object(f.jsxs)("td",{children:[" ",Object(f.jsx)("a",{className:"btn btn-danger",onClick:function(){return a.handleDeleteUser(e.id)},children:"Eliminar"})]})]})}))})]}):"Busca un usuario para eliminar"})]})})}):Object(f.jsxs)("div",{className:"text-center h-100",children:[Object(f.jsx)("h1",{className:"mt-5",children:"\xa1No tienes los permisos para visualizar esta ventana!"}),Object(f.jsx)("p",{children:"Debes ser Administrador o un rango m\xe1s arriba para poder entrar aqu\xed"})]}):Object(f.jsx)(b.a,{to:"/"})}}]),a}(s.Component)),me=a(315),pe=a(129),be=(a(181),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return Object(f.jsx)("div",{className:"error-page h-100 w-100 d-flex justify-items-center align-items-center",children:Object(f.jsx)("h1",{className:"text-center",children:"HA OCURRIDO UN ERROR"})})}}]),a}(s.Component)),je=a(320),ge=a(130),ve=a(84),fe=a(316),Oe=(a(182),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;Object(c.a)(this,a);var n=(s=t.call(this,e)).props.item;return s.state={nombre:(null===n||void 0===n?void 0:n.nombre)||"",imgPresentacion:(null===n||void 0===n?void 0:n.imgPresentacion)||""},s.handleChangeNombre=s.handleChangeNombre.bind(Object(d.a)(s)),s.handleChangeImgPresentacion=s.handleChangeImgPresentacion.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"handleChangeNombre",value:function(e){var t=e.target.value;this.setState({nombre:t})}},{key:"handleChangeImgPresentacion",value:function(e){var t=e.target.files[0];this.setState({imgPresentacion:t})}},{key:"render",value:function(){return Object(f.jsx)(je.a,{className:"form auto-scroll",children:Object(f.jsxs)(me.a,{className:"relat",children:[Object(f.jsxs)("h1",{className:"h3 text-center mb-4",children:[this.props.item?"Editar":"Crear"," receta"]}),Object(f.jsx)("a",{className:"btn d-absolut btn-close",onClick:this.props.onClose,children:Object(f.jsx)(k.e,{size:5})}),Object(f.jsx)(pe.a,{sm:12,md:12,lg:6,xl:6,children:Object(f.jsx)(ge.a,{controlId:"floatingInputNombre",label:"Nombre de la receta",className:"mb-4",children:Object(f.jsx)(je.a.Control,{type:"text",onChange:this.handleChangeNombre,value:this.state.nombre,placeholder:"Nombre de la receta"})})}),Object(f.jsx)(pe.a,{sm:12,md:12,lg:6,xl:6,children:Object(f.jsxs)(ve.a,{controlId:"floatingInput",className:"mb-4",children:[Object(f.jsx)(je.a.Label,{children:"Imagen de presentaci\xf3n"}),Object(f.jsx)("div",{className:"img-preview w-100 d-flex justify-content-center align-items-center",children:this.state.imgPresentacion?Object(f.jsx)(fe.a,{height:"100%",width:"100%",alt:"No se puede cargar la imagen de presentaci\xf3n",src:this.state.imgPresentacion}):Object(f.jsx)("p",{className:"text-center",children:"No se ha seleccionado una imagen"})}),Object(f.jsx)(je.a.Control,{type:"file",accept:"image/*",onChange:this.handleChangeImgPresentacion})]})})]})})}}]),a}(s.Component)),xe=a(317),Ce=(a(183),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;Object(c.a)(this,a);var n=(s=t.call(this,e)).props.item;return s.state={id:(null===n||void 0===n?void 0:n.id)||0,nombre:(null===n||void 0===n?void 0:n.nombre)||"",colorFondo:(null===n||void 0===n?void 0:n.colorFondo)||"#000000",imgPresentacion:(null===n||void 0===n?void 0:n.imgPresentacion)||"",imgBotonScanner:(null===n||void 0===n?void 0:n.imgBotonScanner)||"",imgQrChat:(null===n||void 0===n?void 0:n.imgQrChat)||"",imgQrPromo:(null===n||void 0===n?void 0:n.imgQrPromo)||"",imgBtnOpen:(null===n||void 0===n?void 0:n.imgBtnOpen)||"",imgBtnClose:(null===n||void 0===n?void 0:n.imgBtnClose)||"",imgBtnRecetas:(null===n||void 0===n?void 0:n.imgBtnRecetas)||"",imgBtnChatBot:(null===n||void 0===n?void 0:n.imgBtnChatBot)||"",imgBtnPromocion:(null===n||void 0===n?void 0:n.imgBtnPromocion)||"",sending:!1,colorAlert:"success",showAlert:!1,alertMessage:""},s.handleChangeNombre=s.handleChangeNombre.bind(Object(d.a)(s)),s.handleChangeImgPresentacion=s.handleChangeImgPresentacion.bind(Object(d.a)(s)),s.handleChangeColorFondo=s.handleChangeColorFondo.bind(Object(d.a)(s)),s.handleChangeImgBotonScanner=s.handleChangeImgBotonScanner.bind(Object(d.a)(s)),s.handleChangeImgQrChat=s.handleChangeImgQrChat.bind(Object(d.a)(s)),s.handleChangeImgQrPromo=s.handleChangeImgQrPromo.bind(Object(d.a)(s)),s.handleChangeImgBtnOpen=s.handleChangeImgBtnOpen.bind(Object(d.a)(s)),s.handleChangeImgBtnClose=s.handleChangeImgBtnClose.bind(Object(d.a)(s)),s.handleChangeImgBtnRecetas=s.handleChangeImgBtnRecetas.bind(Object(d.a)(s)),s.handleChangeImgBtnChatBot=s.handleChangeImgBtnChatBot.bind(Object(d.a)(s)),s.handleChangeImgBtnPromocion=s.handleChangeImgBtnPromocion.bind(Object(d.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"handleChangeNombre",value:function(e){var t=e.target.value;this.setState({nombre:t})}},{key:"handleChangeColorFondo",value:function(e){var t=e.target.value;this.setState({colorFondo:t})}},{key:"handleChangeImgPresentacion",value:function(e){var t=e.target;if(t.files&&t.files[0]){var a=t.files;this.setState({imgPresentacion:a[0]})}}},{key:"handleChangeImgBotonScanner",value:function(e){var t=e.target;if(t.files&&t.files[0]){var a=t.files;console.log("file scanner: ",a[0]),this.setState({imgBotonScanner:a[0]})}else console.log("notFiles")}},{key:"handleChangeImgQrChat",value:function(e){var t=e.target;if(t.files&&t.files[0]){var a=t.files;this.setState({imgQrChat:a[0]})}}},{key:"handleChangeImgQrPromo",value:function(e){var t=e.target;if(t.files&&t.files[0]){var a=t.files;this.setState({imgQrPromo:a[0]})}}},{key:"handleChangeImgBtnOpen",value:function(e){var t=e.target;if(t.files&&t.files[0]){var a=t.files;this.setState({imgBtnOpen:a[0]})}}},{key:"handleChangeImgBtnClose",value:function(e){var t=e.target;if(t.files&&t.files[0]){var a=t.files;this.setState({imgBtnClose:a[0]})}}},{key:"handleChangeImgBtnRecetas",value:function(e){var t=e.target;if(t.files&&t.files[0]){var a=t.files;this.setState({imgBtnRecetas:a[0]})}}},{key:"handleChangeImgBtnChatBot",value:function(e){var t=e.target;if(t.files&&t.files[0]){var a=t.files;this.setState({imgBtnChatBot:a[0]})}}},{key:"handleChangeImgBtnPromocion",value:function(e){var t=e.target;if(t.files&&t.files[0]){var a=t.files;this.setState({imgBtnPromocion:a[0]})}}},{key:"handleSubmit",value:function(){var e=Object(y.a)(N.a.mark((function e(){var t,a,s,n,i,o,r,c,l,d,h,u,m,p,b,j,v,f,O=this;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new FormData,a=this.state,s=a.id,n=a.nombre,i=a.colorFondo,o=a.imgPresentacion,r=a.imgBotonScanner,c=a.imgQrChat,l=a.imgQrPromo,d=a.imgBtnOpen,h=a.imgBtnClose,u=a.imgBtnRecetas,m=a.imgBtnChatBot,p=a.imgBtnPromocion,""!=n){e.next=5;break}return this.setState({alertMessage:"Debes ingresar al menos un nombre",colorAlert:"danger",showAlert:!0}),e.abrupt("return");case 5:return console.log("archivos: ",o,r,c,l,d,h,u,m,p),console.log("campos: ",s,n,this.props.id),t.append("id",s),t.append("nombre",n),t.append("colorFondo",i),t.append("idUsuario",this.props.id),"string"==typeof o?t.append("imgPresentacion",o):t.append("imgPresentacion",o,Date.now().toString()+o.name),"string"==typeof r?t.append("imgBotonScanner",r):t.append("imgBotonScanner",r,(Date.now()+1).toString()+r.name),"string"==typeof c?t.append("imgQrChat",c):t.append("imgQrChat",c,(Date.now()+2).toString()+c.name),"string"==typeof l?t.append("imgQrPromo",l):t.append("imgQrPromo",l,(Date.now()+3).toString()+l.name),"string"==typeof d?t.append("imgBtnOpen",d):t.append("imgBtnOpen",d,(Date.now()+4).toString()+d.name),"string"==typeof h?t.append("imgBtnClose",h):t.append("imgBtnClose",h,(Date.now()+5).toString()+h.name),"string"==typeof u?t.append("imgBtnRecetas",u):t.append("imgBtnRecetas",u,(Date.now()+6).toString()+u.name),"string"==typeof m?t.append("imgBtnChatBot",m):t.append("imgBtnChatBot",m,(Date.now()+7).toString()+m.name),"string"==typeof p?t.append("imgBtnPromocion",p):t.append("imgBtnPromocion",p,(Date.now()+8).toString()+p.name),b={method:"POST",mode:"cors",body:t},j=this.props.item?g.REGISTER_EXPERIENCIA:g.MODIFY_EXPERIENCIA,e.next=24,fetch(j,b).catch((function(e){O.setState({alertMessage:"Ocurrri\xf3 un error al realizar el registro",colorAlert:"danger",showAlert:!0}),console.error("error al hacer el registro: ",e)}));case 24:if(!(v=e.sent)){e.next=44;break}return e.next=28,v.json().catch((function(e){O.setState({alertMessage:"Ocurrri\xf3 un error al realizar el registro",colorAlert:"danger",showAlert:!0}),console.error("error al obtener la informaci\xf3n del registro: ",e)}));case 28:if(!(f=e.sent)){e.next=44;break}e.t0=f.result,e.next="correcto"===e.t0?33:"error"===e.t0?36:"error-several-clicks"===e.t0?38:"user-exist"===e.t0?40:42;break;case 33:return this.setState({alertMessage:"se ".concat(this.props.item?"modific\xf3":"registr\xf3"," la experiencia correctamente"),colorAlert:"success",showAlert:!0}),setTimeout((function(){O.props.onClose()}),3e3),e.abrupt("return");case 36:return this.setState({alertMessage:"Ocurrio un error",colorAlert:"danger"}),e.abrupt("break",43);case 38:return this.setState({alertMessage:"Se intent\xf3 demaciadas veces",colorAlert:"danger"}),e.abrupt("break",43);case 40:return this.setState({alertMessage:"Ya existe una experiencia registrada con ese nombre, por favor elige otro",colorAlert:"info"}),e.abrupt("break",43);case 42:return e.abrupt("break",43);case 43:this.setState({sending:!1,showAlert:!0});case 44:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a,s,n,i,o,r,c,l,d,h,u,m,p,b,j,g,O,x,C=this;return Object(f.jsxs)(je.a,{className:"form auto-scroll h-100 p-relative",children:[Object(f.jsx)("div",{className:"alert-container",children:Object(f.jsx)("div",{className:"alert-size",children:this.state.showAlert?Object(f.jsx)(v.a,{variant:this.state.colorAlert,onClose:function(){C.setState({showAlert:!1}),"success"==C.state.colorAlert&&C.props.onClose()},dismissible:!0,children:Object(f.jsx)(v.a.Heading,{as:"h5",className:"text-center",children:null===(e=this.state.alertMessage)||void 0===e?void 0:e.toUpperCase()})}):""})}),Object(f.jsx)("a",{className:"d-absolut btn-close-form btn-ok pointer",onClick:this.handleSubmit,children:Object(f.jsx)(k.c,{size:30})}),Object(f.jsx)("a",{className:"d-absolut btn-close-form pointer",onClick:this.props.onClose,children:Object(f.jsx)(k.e,{size:30})}),Object(f.jsxs)(me.a,{className:"",children:[Object(f.jsxs)("h1",{className:"h3 text-center mb-4",children:[this.props.item?"Editar":"Crear"," campa\xf1a"]}),Object(f.jsx)(pe.a,{sm:12,md:12,lg:6,xl:6,children:Object(f.jsx)(ge.a,{controlId:"floatingInputNombre",label:"Nombre de la campa\xf1a",className:"mb-4",children:Object(f.jsx)(je.a.Control,{type:"text",onChange:this.handleChangeNombre,value:this.state.nombre,placeholder:"Nombre del producto"})})}),Object(f.jsx)(pe.a,{sm:12,md:12,lg:6,xl:6,children:Object(f.jsxs)(ve.a,{className:"mb-4",children:[Object(f.jsx)(je.a.Label,{children:"Color de fondo"}),Object(f.jsx)(je.a.Control,{type:"color",onChange:this.handleChangeColorFondo,value:this.state.colorFondo})]})})]}),Object(f.jsxs)(me.a,{children:[Object(f.jsx)(pe.a,{sm:12,md:12,lg:6,xl:6,children:Object(f.jsxs)(ve.a,{className:"mb-4",children:[Object(f.jsx)(je.a.Label,{children:"Imagen de presentaci\xf3n"}),Object(f.jsx)("div",{className:"img-preview w-100 d-flex justify-content-center align-items-center",children:(null===(t=this.state.imgPresentacion.name)||void 0===t?void 0:t.length)>0||(null===(a=this.state.imgPresentacion)||void 0===a?void 0:a.length)>0?Object(f.jsx)(fe.a,{height:"100%",width:"100%",src:"string"==typeof this.state.imgPresentacion?this.state.imgPresentacion:URL.createObjectURL(this.state.imgPresentacion)}):Object(f.jsx)("p",{className:"text-center",children:"No se ha seleccionado una imagen"})}),Object(f.jsx)(je.a.Control,{type:"file",accept:"image/*",onChange:this.handleChangeImgPresentacion})]})}),Object(f.jsx)(pe.a,{sm:12,md:12,lg:6,xl:6,children:Object(f.jsxs)(ve.a,{className:"mb-4",children:[Object(f.jsx)(je.a.Label,{children:"Imagen del bot\xf3n del scanner"}),Object(f.jsx)("div",{className:"img-preview w-100 d-flex justify-content-center align-items-center",children:(null===(s=this.state.imgBotonScanner.name)||void 0===s?void 0:s.length)>0||(null===(n=this.state.imgBotonScanner)||void 0===n?void 0:n.length)>0?Object(f.jsx)(fe.a,{height:"100%",width:"100%",src:"string"==typeof this.state.imgBotonScanner?this.state.imgBotonScanner:URL.createObjectURL(this.state.imgBotonScanner),className:"prev-scanner"}):Object(f.jsx)("p",{className:"text-center",children:"No se ha seleccionado una imagen"})}),Object(f.jsx)(je.a.Control,{type:"file",accept:"image/*",onChange:this.handleChangeImgBotonScanner})]})}),Object(f.jsx)(pe.a,{sm:12,md:12,lg:6,xl:6,children:Object(f.jsxs)(ve.a,{className:"mb-4",children:[Object(f.jsx)(je.a.Label,{children:"Imagen del QR del ChatBot"}),Object(f.jsx)("div",{className:"img-preview w-100 d-flex justify-content-center align-items-center",children:(null===(i=this.state.imgQrChat.name)||void 0===i?void 0:i.length)>0||(null===(o=this.state.imgQrChat)||void 0===o?void 0:o.length)>0?Object(f.jsx)(fe.a,{height:"100%",width:"100%",src:"string"==typeof this.state.imgQrChat?this.state.imgQrChat:URL.createObjectURL(this.state.imgQrChat),className:"prev-qr"}):Object(f.jsx)("p",{className:"text-center",children:"No se ha seleccionado una imagen"})}),Object(f.jsx)(je.a.Control,{type:"file",accept:"image/*",onChange:this.handleChangeImgQrChat})]})}),Object(f.jsx)(pe.a,{sm:12,md:12,lg:6,xl:6,children:Object(f.jsxs)(ve.a,{className:"mb-4",children:[Object(f.jsx)(je.a.Label,{children:"Imagen del QR de la promo"}),Object(f.jsx)("div",{className:"img-preview w-100 d-flex justify-content-center align-items-center",children:(null===(r=this.state.imgQrPromo.name)||void 0===r?void 0:r.length)>0||(null===(c=this.state.imgQrPromo)||void 0===c?void 0:c.length)>0?Object(f.jsx)(fe.a,{height:"100%",width:"100%",src:"string"==typeof this.state.imgQrPromo?this.state.imgQrPromo:URL.createObjectURL(this.state.imgQrPromo),className:"prev-qr"}):Object(f.jsx)("p",{className:"text-center",children:"No se ha seleccionado una imagen"})}),Object(f.jsx)(je.a.Control,{type:"file",accept:"image/*",onChange:this.handleChangeImgQrPromo})]})}),Object(f.jsx)(pe.a,{sm:12,md:12,lg:6,xl:6,children:Object(f.jsxs)(ve.a,{className:"mb-4",children:[Object(f.jsx)(je.a.Label,{children:"Imagen del bot\xf3n para abrir el men\xfa desplegable"}),Object(f.jsx)("div",{className:"img-preview w-100 d-flex justify-content-center align-items-center",children:(null===(l=this.state.imgBtnOpen.name)||void 0===l?void 0:l.length)>0||(null===(d=this.state.imgBtnOpen)||void 0===d?void 0:d.length)>0?Object(f.jsx)(fe.a,{height:"100%",width:"100%",src:"string"==typeof this.state.imgBtnOpen?this.state.imgBtnOpen:URL.createObjectURL(this.state.imgBtnOpen),className:"prev-btn-menu"}):Object(f.jsx)("p",{className:"text-center",children:"No se ha seleccionado una imagen"})}),Object(f.jsx)(je.a.Control,{type:"file",accept:"image/*",onChange:this.handleChangeImgBtnOpen})]})}),Object(f.jsx)(pe.a,{sm:12,md:12,lg:6,xl:6,children:Object(f.jsxs)(ve.a,{className:"mb-4",children:[Object(f.jsx)(je.a.Label,{children:"Imagen del bot\xf3n para ocultar del men\xfa desplegable"}),Object(f.jsx)("div",{className:"img-preview w-100 d-flex justify-content-center align-items-center",children:(null===(h=this.state.imgBtnClose.name)||void 0===h?void 0:h.length)>0||(null===(u=this.state.imgBtnClose)||void 0===u?void 0:u.length)>0?Object(f.jsx)(fe.a,{height:"100%",width:"100%",src:"string"==typeof this.state.imgBtnClose?this.state.imgBtnClose:URL.createObjectURL(this.state.imgBtnClose),className:"prev-btn-menu"}):Object(f.jsx)("p",{className:"text-center",children:"No se ha seleccionado una imagen"})}),Object(f.jsx)(je.a.Control,{type:"file",accept:"image/*",onChange:this.handleChangeImgBtnClose})]})}),Object(f.jsx)(pe.a,{sm:12,md:12,lg:6,xl:6,children:Object(f.jsxs)(ve.a,{className:"mb-4",children:[Object(f.jsx)(je.a.Label,{children:"Imagen del bot\xf3n de recetas del men\xfa desplegable"}),Object(f.jsx)("div",{className:"img-preview w-100 d-flex justify-content-center align-items-center",children:(null===(m=this.state.imgBtnRecetas.name)||void 0===m?void 0:m.length)>0||(null===(p=this.state.imgBtnRecetas)||void 0===p?void 0:p.length)>0?Object(f.jsx)(fe.a,{height:"100%",width:"100%",src:"string"==typeof this.state.imgBtnRecetas?this.state.imgBtnRecetas:URL.createObjectURL(this.state.imgBtnRecetas),className:"prev-btn-menu"}):Object(f.jsx)("p",{className:"text-center",children:"No se ha seleccionado una imagen"})}),Object(f.jsx)(je.a.Control,{type:"file",accept:"image/*",onChange:this.handleChangeImgBtnRecetas})]})}),Object(f.jsx)(pe.a,{sm:12,md:12,lg:6,xl:6,children:Object(f.jsxs)(ve.a,{className:"mb-4",children:[Object(f.jsx)(je.a.Label,{children:"Imagen del bot\xf3n del chat-bot del men\xfa desplegable"}),Object(f.jsx)("div",{className:"img-preview w-100 d-flex justify-content-center align-items-center",children:(null===(b=this.state.imgBtnChatBot.name)||void 0===b?void 0:b.length)>0||(null===(j=this.state.imgBtnChatBot)||void 0===j?void 0:j.length)>0?Object(f.jsx)(fe.a,{height:"100%",width:"100%",src:"string"==typeof this.state.imgBtnChatBot?this.state.imgBtnChatBot:URL.createObjectURL(this.state.imgBtnChatBot),className:"prev-btn-menu"}):Object(f.jsx)("p",{className:"text-center",children:"No se ha seleccionado una imagen"})}),Object(f.jsx)(je.a.Control,{type:"file",accept:"image/*",onChange:this.handleChangeImgBtnChatBot})]})}),Object(f.jsx)(pe.a,{sm:12,md:12,lg:6,xl:6,children:Object(f.jsxs)(ve.a,{className:"mb-4",children:[Object(f.jsx)(je.a.Label,{children:"Imagen del bot\xf3n de promoci\xf3n del men\xfa desplegable"}),Object(f.jsx)("div",{className:"img-preview w-100 d-flex justify-content-center align-items-center",children:(null===(g=this.state.imgBtnPromocion.name)||void 0===g?void 0:g.length)>0||(null===(O=this.state.imgBtnPromocion)||void 0===O?void 0:O.length)>0?Object(f.jsx)(fe.a,{height:"100%",width:"100%",src:"string"==typeof this.state.imgBtnPromocion?this.state.imgBtnPromocion:URL.createObjectURL(this.state.imgBtnPromocion),className:"prev-btn-menu"}):Object(f.jsx)("p",{className:"text-center",children:"No se ha seleccionado una imagen"})}),Object(f.jsx)(je.a.Control,{type:"file",accept:"image/*",onChange:this.handleChangeImgBtnPromocion})]})})]}),Object(f.jsx)(me.a,{children:Object(f.jsx)(pe.a,{sm:12,className:"h-100P",children:Object(f.jsx)(ve.a,{className:"mb-4 d-flex justify-content-center align-items-center h-100",children:Object(f.jsx)(xe.a,{variant:"primary",onClick:this.handleSubmit,children:(null===(x=this.props.title)||void 0===x?void 0:x.toUpperCase())||"REGISTRAR"})})})})]})}}]),a}(s.Component)),Ne=(a(184),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s,n;Object(c.a)(this,a);var i=(n=t.call(this,e)).props.item;return n.state={nombre:(null===i||void 0===i?void 0:i.nombre)||"",codigoBarras:(null===i||void 0===i?void 0:i.codigoBarras)||"",imgPresentacion:null!==(s=null===i||void 0===i?void 0:i.imgPresentacion)&&void 0!==s?s:"",videoPromo:(null===i||void 0===i?void 0:i.videoPromo)||""},n.handleChangeNombre=n.handleChangeNombre.bind(Object(d.a)(n)),n.handleChangeCodigoBarras=n.handleChangeCodigoBarras.bind(Object(d.a)(n)),n.handleChangeImgPresentacion=n.handleChangeImgPresentacion.bind(Object(d.a)(n)),n.handleChangeVideoPromo=n.handleChangeVideoPromo.bind(Object(d.a)(n)),n}return Object(l.a)(a,[{key:"handleChangeNombre",value:function(e){var t=e.target.value;this.setState({nombre:t})}},{key:"handleChangeCodigoBarras",value:function(e){var t=e.target.value;this.setState({codigoBarras:t})}},{key:"handleChangeImgPresentacion",value:function(e){var t=e.target.files[0];this.setState({imgPresentacion:t})}},{key:"handleChangeVideoPromo",value:function(e){var t=e.target.files[0];this.setState({videoPromo:t})}},{key:"render",value:function(){return Object(f.jsxs)(je.a,{className:"form auto-scroll",children:[Object(f.jsxs)(me.a,{children:[Object(f.jsxs)("h1",{className:"h3 text-center mb-4",children:[this.props.item?"Editar":"Crear"," producto"]}),Object(f.jsx)("a",{className:"btn d-absolut btn-close",onClick:this.props.onClose,children:Object(f.jsx)(k.e,{size:7})}),Object(f.jsx)(pe.a,{sm:12,md:12,lg:6,xl:6,children:Object(f.jsx)(ge.a,{controlId:"floatingInputNombre",label:"Nombre del producto",className:"mb-4",children:Object(f.jsx)(je.a.Control,{type:"text",onChange:this.handleChangeNombre,value:this.state.nombre,placeholder:"Nombre del producto"})})}),Object(f.jsx)(pe.a,{sm:12,md:12,lg:6,xl:6,children:Object(f.jsx)(ge.a,{controlId:"floatingInput2",label:"C\xf3digo de barras",className:"mb-4",children:Object(f.jsx)(je.a.Control,{type:"text",onChange:this.handleChangeCodigoBarras,value:this.state.codigoBarras,placeholder:"C\xf3digo de barras"})})})]}),Object(f.jsxs)(me.a,{children:[Object(f.jsx)(pe.a,{sm:12,md:12,lg:6,xl:6,children:Object(f.jsxs)(ve.a,{controlId:"floatingInput",className:"mb-4",children:[Object(f.jsx)(je.a.Label,{children:"Imagen de presentaci\xf3n"}),Object(f.jsx)("div",{className:"img-preview w-100 d-flex justify-content-center align-items-center",children:this.state.imgPresentacion?Object(f.jsx)(fe.a,{height:"100%",src:this.state.imgPresentacion,className:"prev-img-presentacion"}):Object(f.jsx)("p",{className:"text-center",children:"No se ha seleccionado una imagen"})}),Object(f.jsx)(je.a.Control,{type:"file",accept:"image/*",onChange:this.handleChangeImgPresentacion})]})}),Object(f.jsx)(pe.a,{sm:12,md:12,lg:6,xl:6,children:Object(f.jsxs)(ve.a,{controlId:"floatingInput",className:"mb-4",children:[Object(f.jsx)(je.a.Label,{children:"Video de presentaci\xf3n"}),Object(f.jsx)("div",{className:"img-preview w-100 d-flex justify-content-center align-items-center",children:this.state.videoPromo?Object(f.jsx)("video",{src:this.state.videoPromo,height:"100%",width:"100%",controls:!0}):Object(f.jsx)("p",{className:"text-center",children:"No se ha seleccionado un video"})}),Object(f.jsx)(je.a.Control,{type:"file",accept:"video/*",onChange:this.handleChangeVideoPromo})]})})]})]})}}]),a}(s.Component)),ye=a(318),Se=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return Object(f.jsx)(ye.a,{children:Object(f.jsxs)("div",{className:"text-center h-100",children:[Object(f.jsx)("h1",{className:"mt-5",children:"\xa1A\xfan no estas loggeado!"}),Object(f.jsx)("p",{children:"Debes estar loggeado para poder interactuar"}),Object(f.jsxs)("p",{children:["Inicia sesi\xf3n dando click en Iniciar sesi\xf3n, o da click ",Object(f.jsx)(p.b,{to:"/login",children:"aqui"})]})]})})}}]),a}(s.Component),ke=a(138),Ie=(a(185),a(322)),we="data:image/png;base64,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",Ae=(a(186),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(f.jsx)("div",{className:"carrousel-productos w-100 h-100",children:Object(f.jsx)(Ie.a,{className:" h-100 justify-content-center d-flex",variant:"dark",indicators:!1,children:this.props.items?this.props.items.map((function(t,a){var s=t.imgPresentacion,n=t.nombre;return Object(f.jsx)(Ie.a.Item,{onClick:function(){return e.props.onSelectItem(2,t)},className:"h-100 justify-content-end",children:Object(f.jsx)("div",{className:"item h-100",children:Object(f.jsx)(fe.a,{width:"100%",height:"100%",alt:"no se puede cargr la imagen de presentaci\xf3n del producto "+n,src:s})})},a)})):Object(f.jsx)(Ie.a.Item,{className:"h-100",children:Object(f.jsx)("div",{className:"producto h-100",children:Object(f.jsx)("img",{src:we,alt:"default",height:"100%",width:"100%",index:0,onClick:function(){return e.props.onSelectItem(2,void 0)}})})})})})}}]),a}(s.Component)),Ee=(a(187),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){var e,t=null!==(e=this.props.campania)&&void 0!==e?e:{},a=t.imgBotonScanner,s=t.imgPresentacion;return Object(f.jsxs)("div",{className:"campania-presentation w-100 h-100 d-flex justify-content-center align-items-end",children:[Object(f.jsx)(fe.a,{src:s,heigth:"100%",width:"100%",alt:"No se puede cargar la imagen de presentaci\xf3n de la campa\xf1a"}),Object(f.jsx)("div",{className:"boton-escaner ".concat((null===a||void 0===a?void 0:a.lenght)>0?"":"empty"," d-absolut"),children:Object(f.jsx)(fe.a,{src:a,heigth:"100%",width:"100%",alt:"No se puede cargar la imagen del bot\xf3n de escaner de la campa\xf1a"})})]})}}]),a}(s.Component)),Te=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){var e;return Object(f.jsxs)("div",{className:"w-100 h-100 d-flex",children:[Object(f.jsx)("div",{className:"w-75 presentation-size h-100",children:Object(f.jsx)(Ee,{campania:this.props.campania,onClickEscaner:this.props.onClickEscaner})}),Object(f.jsx)("div",{className:"carrusel-space w-25 h-100",children:Object(f.jsx)(Ae,{items:null===(e=this.props.campania)||void 0===e?void 0:e.productos,campania:this.props.campania,onSelectItem:this.props.onSelectProduct})})]})}}]),a}(s.Component),Re=a(101),De=a(90),Pe=a(29),Ue=a(136),Be=a(137),Le=(a(299),Object(Pe.c)(Z||(Z=Object(Re.a)(["",""])),Ue.fadeIn)),Me=Pe.b.button(_||(_=Object(Re.a)(["\n                    padding: 0 !important;\n                    background-color:rgba(0,0,0,0);\n                    border:none;\n                    animation: .5s ",";\n                    "])),Le),ze=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={menuIsToggled:!1},s.handleMenuToggle=s.handleMenuToggle.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"handleMenuToggle",value:function(){this.setState({menuIsToggled:!this.state.menuIsToggled})}},{key:"render",value:function(){var e,t=this,a=null!==(e=this.props.campania)&&void 0!==e?e:{},s=a.imgBtnChatBot,n=a.imgBtnClose,i=a.imgBtnOpen,o=a.imgBtnPromocion,r=a.imgBtnRecetas;return Object(f.jsxs)("div",{className:"menu",children:[Object(f.jsx)("div",{className:"menu-center",onClick:this.handleMenuToggle,children:this.state.menuIsToggled?i?Object(f.jsx)(fe.a,{height:"4em",width:"4em",src:i,alt:"No se puede cargar la imagen del boton de abrir"}):Object(f.jsx)(Me,{className:"menu-center",children:Object(f.jsx)(Be.a,{size:"4em"})}):n?Object(f.jsx)(fe.a,{height:"4em",width:"4em",src:n,alt:"No se puede cargar la imagen del boton de cerrar"}):Object(f.jsx)(Me,{className:"menu-center",children:Object(f.jsx)(k.d,{size:"4em"})})}),Object(f.jsx)(De.a,{className:"no-padding no-border",menuActive:this.state.menuIsToggled,radius:8,rotationAngle:270,size:4,onClick:function(){t.props.onChangeVista(3),t.setState({menuIsToggled:!1})},children:r?Object(f.jsx)(fe.a,{className:"icono-menu",height:"100%",width:"100%",src:r,alt:"No se puede cargar la imagen del boton de recetas"}):"Recetas"}),Object(f.jsx)(De.a,{className:"no-padding no-border",menuActive:this.state.menuIsToggled,radius:8,rotationAngle:225,size:4,onClick:function(){t.props.onChangeVista(4),t.setState({menuIsToggled:!1})},children:s?Object(f.jsx)(fe.a,{className:"icono-menu",height:"100%",width:"100%",src:s,alt:"No se puede cargar la imagen del boton del chatbot"}):"ChatBot"}),Object(f.jsx)(De.a,{className:"no-padding no-border",menuActive:this.state.menuIsToggled,radius:8,rotationAngle:180,size:4,onClick:function(){t.props.onChangeVista(5),t.setState({menuIsToggled:!1})},children:o?Object(f.jsx)(fe.a,{className:"icono-menu",height:"100%",width:"100%",src:o,alt:"No se puede cargar la imagen del boton de promociones"}):"Promoci\xf3n"})]})}}]),a}(s.Component),Fe=(a(300),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){var e,t=this;return Object(f.jsxs)("div",{className:"w-100 h-100 vista-producto d-flex align-items-center ",children:[(null===(e=this.props.producto)||void 0===e?void 0:e.video)?this.props.producto.video:Object(f.jsx)("p",{className:"text-center w-100",children:"No se ha podido cargar el video"}),Object(f.jsx)("div",{className:"btn-salir",children:Object(f.jsx)(xe.a,{onClick:function(){return t.props.onChangeVista(1)},variant:"danger",children:"SALIR"})}),Object(f.jsx)("div",{className:"position-menu",children:Object(f.jsx)(ze,{onChangeVista:function(e){return t.props.onChangeVista(e,t.props.producto)},campania:this.props.campania})})]})}}]),a}(s.Component)),He=(a(301),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).props.onSelectRecip(s.props.recetas[0]),s}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"carrusel-recetas relat w-100 h-100",children:[Object(f.jsx)(Ie.a,{className:"w-100 h-100",onSelect:function(t){console.log("recip index: ",t),e.props.onSelectRecip(e.props.recetas[t])},children:this.props.recetas?this.props.recetas.map((function(e,t){var a=e.imgPresentacion,s=e.nombre;return Object(f.jsx)(Ie.a.Item,{className:"h-100 justify-content-end",children:Object(f.jsx)("div",{className:"receta h-100",children:Object(f.jsx)(fe.a,{width:"100%",height:"100%",alt:"no se puede cargr la imagen de presentaci\xf3n de la receta "+s,src:a})})},t)})):Object(f.jsx)(Ie.a.Item,{className:"h-100 w-100",children:Object(f.jsx)("div",{className:"producto h-100 w-100",children:Object(f.jsx)("img",{src:we,alt:"default",height:"100%",width:"100%"})})})}),Object(f.jsx)("div",{className:"btn-salir",children:Object(f.jsx)(xe.a,{variant:"danger",onClick:function(){return e.props.onChangeVista(2,e.props.producto)},children:"SALIR"})})]})}}]),a}(s.Component)),Ve=(a(302),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return console.log("qr: ",this.props.src),Object(f.jsx)("div",{className:"qr-pupup d-flex p-3 justify-content-center align-items-center h-75",children:Object(f.jsx)(fe.a,{height:"100%",width:"100%",src:this.props.src?this.props.src:we})})}}]),a}(s.Component)),Ge=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Object(c.a)(this,e),this.id=t,this.imgPresentacion=a,this.nombre=s}return Object(l.a)(e,[{key:"equals",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new e;return"Receta"===t.constructor.name&&(t.imgPresentacion===this.imgPresentacion&&t.nombre===this.nombre&&t.id===this.id)}}]),e}(),Je=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";Object(c.a)(this,e),this.id=t,this.imgPresentacion=a,this.videoPromo=s,this.codigoBarras=n,this.nombre=i}return Object(l.a)(e,[{key:"equals",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new e;return"Producto"===t.constructor.name&&(t.imgPresentacion==this.imgPresentacion&&t.nombre==this.nombre&&t.id==this.id&&t.videoPromo==this.videoPromo)}}]),e}(),Ye=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"",u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"",m=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"";Object(c.a)(this,e),this.id=t,this.nombre=a,this.imgPresentacion=s,this.imgBotonScanner=n,this.colorFondo=i,this.imgQrChat=o,this.imgQrPromo=r,this.imgBtnOpen=l,this.imgBtnClose=d,this.imgBtnRecetas=h,this.imgBtnChatBot=u,this.imgBtnPromocion=m,this.productos=[],this.recetas=[]}return Object(l.a)(e,[{key:"equals",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new e;return"Campania"===t.constructor.name&&(t.imgPresentacion===this.imgPresentacion&&t.nombre===this.nombre&&t.id===this.id)}}]),e}(),We=new Ye;We.id=1,We.imgPresentacion="https://www.emprender-facil.com/wp-content/uploads/2015/03/Cosas-curiosas-C%C3%B3mo-hacer-una-campa%C3%B1a-de-intriga-texto2.jpg",We.imgBotonScanner="https://cdn.pixabay.com/photo/2013/07/12/18/40/button-153684_960_720.png",We.imgQrPromo="https://cdn.onlinewebfonts.com/svg/img_462691.png",We.imgQrChat="https://cdn.onlinewebfonts.com/svg/img_462691.png",We.imgBtnChatBot="http://images.wikia.com/rhcp/es/images/6/61/Bot%C3%B3n_azul.svg.png",We.imgBtnPromocion="http://images.wikia.com/rhcp/es/images/6/61/Bot%C3%B3n_azul.svg.png",We.imgBtnRecetas="http://images.wikia.com/rhcp/es/images/6/61/Bot%C3%B3n_azul.svg.png",We.nombre="Boing";var Xe=new Je;Xe.id=1,Xe.nombre="Guayaba",Xe.imgPresentacion="http://comercialsabu.com.mx/wp-content/uploads/2020/01/NRbotellavidrio237ml.png";var qe=new Ge;qe.imgPresentacion="https://okdiario.com/img/2020/01/23/estofado-de-ternera-con-anchoas.jpg",qe.id=1,qe.nombre="Jarrito",We.productos=[Xe],We.recetas=[qe];var Ke=We,Qe=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).handleChangeVista=s.handleChangeVista.bind(Object(d.a)(s)),s.state={vista:1,props:{campania:s.props.campania,onSelectProduct:function(e){return s.handleChangeVista(2,e)}},showPopUp:!1,actualQrPopUp:"",producto:new Je},s}return Object(l.a)(a,[{key:"handleChangeVista",value:function(e,t){switch(e<4&&(this.setState({vista:e,producto:t}),this.props.setActualItem(t)),e){case 4:var a;this.setState({actualQrPopUp:null===(a=this.props.campania)||void 0===a?void 0:a.imgQrChat,showPopUp:!0});break;case 5:var s;this.setState({actualQrPopUp:null===(s=this.props.campania)||void 0===s?void 0:s.imgQrPromo,showPopUp:!0})}}},{key:"shouldComponentUpdate",value:function(e){if(e.onGoHome!==this.props.onGoHome)return this.handleChangeVista(1),!0;if(void 0===e.actualItem)return!0;if(!e.actualItem.equals(this.props.actualItem)){var t,a=e.actualItem,s="Producto"==(null===a||void 0===a||null===(t=a.constructor)||void 0===t?void 0:t.name);this.handleChangeVista(s?2:3,a)}return!0}},{key:"render",value:function(){var e,t=this;return Object(f.jsx)("div",{className:"d-flex h-complete mt-3 vista-tablet align-items-center relat",children:Object(f.jsxs)("div",{className:"d-flex tablet h-100 w-100 justify-content-end",children:[Object(f.jsxs)("div",{className:"screen w-100 relat",children:[this.state.showPopUp?Object(f.jsx)("div",{className:"view-pop-up d-absolut h-100 w-100 d-flex justify-content-center align-items-center",onClick:function(){return t.setState({showPopUp:!1})},children:Object(f.jsx)(Ve,{src:this.state.actualQrPopUp})}):"",1==this.state.vista?Object(f.jsx)(Te,{campania:this.props.campania,onSelectProduct:this.handleChangeVista,onChangeVista:this.handleChangeVista,producto:this.state.producto}):"",2==this.state.vista?Object(f.jsx)(Fe,{campania:this.props.campania,onSelectProduct:this.handleChangeVista,onChangeVista:this.handleChangeVista,producto:this.state.producto}):"",3==this.state.vista?Object(f.jsx)(He,{campania:this.props.campania,onSelectRecip:this.props.setActualItem,onChangeVista:this.handleChangeVista,recetas:null===(e=this.props.campania)||void 0===e?void 0:e.recetas,producto:this.state.producto}):""]}),Object(f.jsx)("div",{className:"barra-tablet  p-2 h-100 d-flex justify-content-center align-items-center",children:Object(f.jsx)(ke.a,{size:"30px"})})]})})}}]),a}(s.Component),Ze=a(321),_e=(a(303),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).handleClickProducto=s.handleClickProducto.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"handleClickProducto",value:function(e){this.props.selectProducto&&this.props.selectProducto(e)}},{key:"render",value:function(){var e,t=this;return Object(f.jsx)("div",{className:"menu-lateral",children:Object(f.jsxs)(Ze.a,{color:"#000000",children:[Object(f.jsxs)(Ze.a.Header,{color:"#000000",children:[Object(f.jsx)(pe.a,{sm:"10",children:Object(f.jsx)("p",{className:"h4 text-center w-100",children:"EXPERIENCIAS"})}),Object(f.jsx)(pe.a,{sm:"2",className:"d-flex justify-content-end",children:Object(f.jsx)("a",{className:"btn",onClick:function(e){t.props.onEditItem("Campania",null,!0),e.stopPropagation()},children:Object(f.jsx)(k.a,{title:"Crear experiencia",size:"1.5em"})})})]}),Object(f.jsxs)(Ze.a.Body,{children:[Object(f.jsxs)(me.a,{className:"pointer element-submenu",onClick:function(e){t.props.onEditItem("Campania",null,!0),e.stopPropagation()},children:[Object(f.jsx)(pe.a,{sm:"2",className:"d-flex justify-content-end",children:Object(f.jsx)(k.a,{title:"Crear experiencia",size:"1.5em"})}),Object(f.jsx)(pe.a,{sm:"10",children:Object(f.jsx)("p",{className:"h5",children:"CREAR"})})]}),Object(f.jsxs)(Ze.a,{color:"#000000",children:[Object(f.jsx)(Ze.a.Header,{color:"#000000",children:Object(f.jsxs)(me.a,{children:[Object(f.jsx)(pe.a,{sm:"4",className:"d-flex justify-content-start",children:Object(f.jsx)(k.j,{title:"Editar experiencia",size:"1.5em"})}),Object(f.jsx)(pe.a,{sm:"8",children:Object(f.jsx)("p",{className:"h5 text-center w-100",children:"EDITAR"})})]})}),Object(f.jsx)(Ze.a.Body,{children:null===(e=this.props.campanias)||void 0===e?void 0:e.map((function(e,a){var s,n;return Object(f.jsxs)(Ze.a,{color:"#000000",defaultActiveKey:a,children:[Object(f.jsx)(Ze.a.Header,{color:"#000000",onClick:function(){return t.props.onSelectCampain(e)},children:Object(f.jsxs)(me.a,{className:"item-product w-100",children:[Object(f.jsx)(pe.a,{sm:"9",children:Object(f.jsx)("p",{className:"h3",children:e.nombre})}),Object(f.jsxs)(pe.a,{sm:"3",className:"d-flex justify-content-end",children:[Object(f.jsx)("a",{className:"btn",onClick:function(a){a.preventDefault(),a.stopPropagation(),t.props.onChangeGoHome(),t.props.onSelectCampain(e)},children:Object(f.jsx)(k.b,{title:"Visualizar experiencia",size:"1.3em"})}),Object(f.jsx)("a",{className:"btn",onClick:function(a){t.props.onEditItem("Campania",e),console.log("campania: ",e),a.stopPropagation()},children:Object(f.jsx)(k.j,{title:"Editar experiencia",size:"1.3em"})})]})]})}),Object(f.jsxs)(Ze.a.Body,{children:[Object(f.jsxs)(me.a,{children:[Object(f.jsx)(pe.a,{sm:"10",children:Object(f.jsx)("p",{className:"h4 text-center w-100",children:"PRODUCTOS"})}),Object(f.jsx)(pe.a,{sm:"2",className:"d-flex justify-content-end",children:Object(f.jsx)("a",{className:"btn",onClick:function(e){t.props.onEditItem("Producto"),e.stopPropagation()},children:Object(f.jsx)(k.a,{title:"Crear Producto",size:"1.5em"})})})]}),null===(s=e.productos)||void 0===s?void 0:s.map((function(e,a){var s;return Object(f.jsxs)(me.a,{className:"item-product\n                                                ".concat((null===(s=t.props.actualItem)||void 0===s?void 0:s.equals(e))?"selected":""," "),children:[Object(f.jsx)(pe.a,{sm:"8",children:Object(f.jsx)("p",{className:"btn w-100",children:e.nombre})}),Object(f.jsxs)(pe.a,{sm:"4",className:"d-flex justify-content-end",children:[Object(f.jsx)("a",{className:"btn",onClick:function(){return t.props.setActualItem(e)},children:Object(f.jsx)(k.b,{title:"Visualizar producto",size:"1.5em"})}),Object(f.jsx)("a",{className:"btn",onClick:function(a){t.props.onEditItem("Producto",e),console.log("producto: ",e),a.stopPropagation()},children:Object(f.jsx)(k.j,{title:"Editar producto",size:"1.5em"})})]})]},a)})),Object(f.jsxs)(me.a,{children:[Object(f.jsx)(pe.a,{sm:"10",children:Object(f.jsx)("p",{className:"h4 text-center w-100",children:"RECETAS"})}),Object(f.jsx)(pe.a,{sm:"2",className:"d-flex justify-content-end",children:Object(f.jsx)("a",{className:"btn",onClick:function(e){t.props.onEditItem("Receta"),e.stopPropagation()},children:Object(f.jsx)(k.a,{title:"Crear Receta",size:"1.5em"})})})]}),null===(n=e.recetas)||void 0===n?void 0:n.map((function(e,a){var s;return Object(f.jsxs)(me.a,{className:"item \n                                                ".concat((null===(s=t.props.actualItem)||void 0===s?void 0:s.equals(e))?"selected":""," "),children:[Object(f.jsx)(pe.a,{sm:"8",children:Object(f.jsx)("p",{className:"btn w-100",onClick:function(){return t.props.setActualItem(e)},children:e.nombre})}),Object(f.jsxs)(pe.a,{sm:"4",className:"d-flex justify-content-end",children:[Object(f.jsx)("a",{className:"btn",onClick:function(){return t.props.setActualItem(e)},children:Object(f.jsx)(k.b,{title:"Visualizar Receta",size:"1.5em"})}),Object(f.jsx)("a",{className:"btn",onClick:function(a){t.props.onEditItem("Receta",e),console.log("receta: ",e),a.stopPropagation()},children:Object(f.jsx)(k.j,{title:"Editar receta",size:"1.5em"})})]})]},a)}))]})]},a)}))})]})]})]})})}}]),a}(s.Component)),$e=(a(304),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={typeForm:"Producto",itemEditing:void 0,showForm:!1,Form:Ne,actualCampain:void 0,actualItem:new Je,campanias:[Ke],productos:Ke.productos,recetas:Ke.recetas,goHome:!0},s.handleOpenForm=s.handleOpenForm.bind(Object(d.a)(s)),s.handleselectCampain=s.handleselectCampain.bind(Object(d.a)(s)),s.getData=s.getData.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"handleselectCampain",value:function(e){this.setState({actualCampain:e,productos:e.productos,recetas:e.recetas,showForm:!1})}},{key:"getData",value:function(){var e=Object(y.a)(N.a.mark((function e(){var t,a,s,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",mode:"cors",headers:{"Content-Type":"application/json"}},e.next=3,fetch(g.LIST_ALL_EXPERIENCES,t).catch((function(e){console.error("Error al obtener los datos")}));case 3:if(!(a=e.sent)){e.next=9;break}return e.next=7,a.json().catch((function(e){console.error("Error al intentar convertir los datos")}));case 7:s=e.sent,Array.isArray(s)&&(n=s,this.setState({campanias:n}),console.log("campanias: ",n));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOpenForm",value:function(e,t){var a=this,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=be;switch(e){case"Producto":n=Ne;break;case"Receta":n=Oe;break;case"Campania":s||this.handleselectCampain(t),n=Ce;break;default:n=be}this.setState({typeForm:e,itemEditing:t,Form:n}),this.setState({showForm:!1}),setTimeout((function(){a.setState({showForm:!0})}),10)}},{key:"render",value:function(){var e=this;return this.props.isLogged?Object(f.jsx)("div",{className:"home",children:Object(f.jsxs)(me.a,{children:[Object(f.jsx)(pe.a,{sm:12,md:4,lg:3,xl:3,children:Object(f.jsx)(_e,{onSelectCampain:this.handleselectCampain,onEditItem:this.handleOpenForm,campanias:this.state.campanias,actualItem:this.state.actualItem,setActualItem:function(t){return e.setState({actualItem:t})},onChangeGoHome:function(){return e.setState({goHome:!e.state.goHome})}})}),Object(f.jsxs)(pe.a,{sm:12,md:8,lg:8,xl:8,className:"relat",children:[this.state.showForm?Object(f.jsx)("div",{className:"h-100 w-100 popup-form d-flex align-items-center",children:Object(f.jsx)(this.state.Form,{item:this.state.itemEditing,campania:this.state.actualCampain,onClose:function(){return e.setState({showForm:!1})},id:this.props.id})}):"",Object(f.jsx)(Qe,{campania:this.state.actualCampain,productos:this.state.productos,recetas:this.state.recetas,actualItem:this.state.actualItem,setActualItem:function(t){return e.setState({actualItem:t})},onGoHome:this.state.goHome})]})]})}):Object(f.jsx)(Se,{})}}]),a}(s.Component)),et=a(324),tt=(a(305),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return Object(f.jsxs)("div",{className:"loading-spinner w-100 d-flex justify-content-center align-items-center flex-column",children:[Object(f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtEAAADLCAMAAACfxT/hAAAA2FBMVEVMaXECyO3///////////8CyO3///////////8CyO3///////8CyO0CyO3///////////8CyO0CyO0CyO0CyO3///////////8CyO3///8CyO0CyO0CyO0CyO0CyO3///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8CyO3///8ZZqdGAAAARnRSTlMAQBDwgIDgQMDAoGDwEDDQICDgoGCwkHDQUJAwULBwLv1K1vnippIf/vucPOiHyFj2V6/c83zP9+friLhkccH8upRM2O/KWVS4nAAAAAlwSFlzAAALEgAACxIB0t1+/AAAHiVJREFUeJztnWl72zawhWmKFmUpluTEkiKncdI1bdK9Tde0dzf//z+6D3dgMAMMQGihM+dTYpIAKL4EhwPwIBmgT8H/fxhSmEh0cv0G/v9/J2qHSBRHn4P/Tz+cqCEiUQx9WoA/TL8/UUtEohj62SAadtoi0Zj0p0F08e5ETRGJhutNYRL95YnaIhIN11cI0X+eqC0i0XD9ghBdpCdqjEg0WK8xor87UWNEoqH6UGBEf3ai1ohEQ/U9SvTrE7VGJBqqH1Gii59O1ByRaJjeFTjR/56oPSLRMH1JEP3jidojEg3THwTRxasTNUgkGqK0oIh+e6IWiURD9B1J9BcnapFINESfkUTDP4pEY9A3NNHvT9QkkShcPxU00TJsKBqf/rYQ/c2J2iQShetXC9EF/ERcJDp3vSpsRP98olaJPnoF662V6MmJWiX66BWsL6xEF29O1CyRKFBf24n+6kTNEonC9L6wEy3DhqJx6TcH0V+fqF0iUZg+dxBd/HOiholEIfq0cBEtbmGiMelnJ9HiFiYakyZOosUtTDQivSncRItbmGg8+opBtLiFicajXxhEi1uYaDx6zSFahg1FY9GHgkO0TPsXjUXfs4gWtzDRWPQ5i2hxCxONRO8KHtHiFiYah75kEi1uYaJx6A8m0eIWJhqF0oJLtAwbisag79hEy7R/0Rj0GZtocQsTjUGv+USLW5jo/PVT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",alt:"ARDABYTEC S.A DE C.V",className:"logo-loading",width:500}),Object(f.jsx)(et.a,{size:300,color:"#02c8ed"})]})}}]),a}(s.Component)),at=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={socket:void 0,isLogged:"true"==localStorage.getItem("isLogged"),userId:"",userName:"",userFullName:"",vccId:"",campaniaId:"",supervisorId:"",userPhoto:"",tipoUsuario:"",isConnected:!1},s.getSocketConection=s.getSocketConection.bind(Object(d.a)(s)),s.setUserInfo=s.setUserInfo.bind(Object(d.a)(s)),s.setIsLogged=s.setIsLogged.bind(Object(d.a)(s)),s.getUserInfoIfPosible=s.getUserInfoIfPosible.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getSocketConection()}},{key:"getSocketConection",value:function(){var e=this,t=Object(m.a)(j);this.setState({socket:t}),t.connect();var a=!1,s=0;t.on("connected",(function(){s=0,a=!0,e.getUserInfoIfPosible(),e.setState({isConnected:!0})})),t.on("disconnect",(function(){a=!1,setTimeout((function(){a||(s++,console.error("disconected"),s>10&&e.setState({isConnected:!1}))}),500)}))}},{key:"getUserInfoIfPosible",value:function(){if(this.state.isLogged){var e,t=JSON.parse(localStorage.getItem("userInfo"));this.setState({userId:null===t||void 0===t?void 0:t.userId,userName:null===t||void 0===t?void 0:t.userName,userFullName:null===t||void 0===t?void 0:t.userFullName,vccId:null===t||void 0===t?void 0:t.vccId,campaniaId:null===t||void 0===t?void 0:t.campaniaId,supervisorId:null===t||void 0===t?void 0:t.supervisorId,userPhoto:null===t||void 0===t?void 0:t.userPhoto,tipoUsuario:null===t||void 0===t?void 0:t.tipoUsuario}),null===(e=this.state.socket)||void 0===e||e.emit("logged-again",t)}}},{key:"setUserInfo",value:function(e){if(void 0!=e){var t={userId:null===e||void 0===e?void 0:e.userId,userName:null===e||void 0===e?void 0:e.userName,userFullName:null===e||void 0===e?void 0:e.userFullName,vccId:null===e||void 0===e?void 0:e.vccId,campaniaId:null===e||void 0===e?void 0:e.campaniaId,supervisorId:null===e||void 0===e?void 0:e.supervisorId,userPhoto:null===e||void 0===e?void 0:e.userPhoto,tipoUsuario:null===e||void 0===e?void 0:e.tipoUsuario};this.setState(t),localStorage.setItem("userInfo",JSON.stringify(t))}}},{key:"setIsLogged",value:function(e){this.setState({isLogged:e}),localStorage.setItem("isLogged",e)}},{key:"render",value:function(){var e=this;return this.state.isConnected?Object(f.jsxs)(p.a,{children:[Object(f.jsx)(se,{isLogged:this.state.isLogged,tipoUsuario:this.state.tipoUsuario}),Object(f.jsx)(he,{isLogged:this.state.isLogged,tipoUsuario:this.state.tipoUsuario}),Object(f.jsx)("div",{className:"d-flex flex-row body-all ",children:Object(f.jsx)("div",{className:this.state.isLogged?"vistas":"no-chat",children:Object(f.jsxs)(b.d,{children:[Object(f.jsx)(b.b,{exact:!0,path:"/login",render:function(t){return Object(f.jsx)(O,Object(r.a)(Object(r.a)({},t),{},{socket:e.state.socket,isLogged:e.state.isLogged,setIsLogged:e.setIsLogged,setUserInfo:e.setUserInfo}))}}),Object(f.jsx)(b.b,{exact:!0,path:"/register-user",render:function(t){return Object(f.jsx)(S,{socket:e.state.socket,tipoUsuario:e.state.tipoUsuario,isLogged:e.state.isLogged,title:"Registrar",isEditable:!0,id:e.state.userId,idVcc:e.state.vccId})}}),Object(f.jsx)(b.b,{exact:!0,path:"/modify-user",render:function(t){return Object(f.jsx)(ne,{idVcc:e.state.vccId,socket:e.state.socket,tipoUsuario:e.state.tipoUsuario,isLogged:e.state.isLogged,id:e.state.userId})}}),Object(f.jsx)(b.b,{exact:!0,path:"/delete-user",render:function(t){return Object(f.jsx)(ue,{idVcc:e.state.vccId,socket:e.state.socket,tipoUsuario:e.state.tipoUsuario,isLogged:e.state.isLogged,id:e.state.userId})}}),Object(f.jsx)(b.b,{exact:!0,path:"/register-company",render:function(t){return Object(f.jsx)(I,{socket:e.state.socket,tipoUsuario:e.state.tipoUsuario,isLogged:e.state.isLogged,title:"Registrar",isEditable:!0,id:e.state.userId,idVcc:e.state.vccId})}}),Object(f.jsx)(b.b,{exact:!0,path:"/modify-company",render:function(t){return Object(f.jsx)(ne,{idVcc:e.state.vccId,socket:e.state.socket,tipoUsuario:e.state.tipoUsuario,isLogged:e.state.isLogged,id:e.state.userId})}}),Object(f.jsx)(b.b,{exact:!0,path:"/view-experience",render:function(t){return Object(f.jsx)($e,Object(r.a)({socket:e.state.socket,tipoUsuario:e.state.tipoUsuario,isLogged:e.state.isLogged,title:"Registrar",isEditable:!0,id:e.state.userId,idVcc:e.state.vccId},t))}}),Object(f.jsx)(b.b,{exact:!0,path:"/delete-user",render:function(t){return Object(f.jsx)(ue,{idVcc:e.state.vccId,socket:e.state.socket,tipoUsuario:e.state.tipoUsuario,isLogged:e.state.isLogged,id:e.state.userId})}}),Object(f.jsx)(b.b,{exact:!0,path:"/logout",render:function(t){return Object(f.jsx)(x,Object(r.a)(Object(r.a)({},t),{},{socket:e.state.socket,id:e.state.userId,setIsLogged:e.setIsLogged,setUserInfo:e.setUserInfo}))}}),Object(f.jsx)(b.b,{exact:!0,path:"/",render:function(t){return Object(f.jsx)(ae,Object(r.a)(Object(r.a)({},t),{},{userName:e.state.userFullName,id:e.state.userId,socket:e.state.socket,tipoUsuario:e.state.tipoUsuario,isLogged:e.state.isLogged}))}})]})})})]}):Object(f.jsx)(tt,{})}}]),a}(s.Component),st=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,325)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),s(e),n(e),i(e),o(e)}))};o.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(at,{})}),document.getElementById("root")),st()}},[[306,1,2]]]);
//# sourceMappingURL=main.369c1b2e.chunk.js.map